<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta property="og:url" content="https://bytecodes.tech/db/redis/db-redis-x-cache.html"><meta property="og:site_name" content="å‡¤å‡°æ¶…æ§ƒè¿›é˜¶ä¹‹è·¯"><meta property="og:title" content="æ¶æ„ä¹‹é«˜å¹¶å‘-é™çº§å’Œç†”æ–­"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-12-24T09:13:42.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-12-24T09:13:42.000Z"><meta name="robots" content="all"><meta name="author" content="Abelsun"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="Java, JavaåŸºç¡€, å¹¶å‘ç¼–ç¨‹, JVM, è™šæ‹Ÿæœº, æ•°æ®åº“, MySQL, Spring, Redis, MyBatis, SpringBoot, IDEA, æ±‚èŒé¢è¯•, é¢è¯•é€†è¢­, å­¦ä¹ è·¯çº¿"><meta name="apple-mobile-web-app-capable" content="yes"><script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?5230ac143650bf5eb3c14f3fb9b1d3ec";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script><link rel="stylesheet" href="//at.alicdn.com/t/font_3180624_7cy10l7jqqh.css"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#096dd9"><link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>æ¶æ„ä¹‹é«˜å¹¶å‘-é™çº§å’Œç†”æ–­ | å‡¤å‡°æ¶…æ§ƒè¿›é˜¶ä¹‹è·¯</title><meta name="description" content="å¼€æºå·¥å…·ã€æ•ˆç‡æ–¹æ³•ã€å¿ƒç†å­¦æ¢ç´¢çš„è‡ªæˆ‘æå‡ç¬”è®°ï¼Œè®°å½•å¹¶è¾“å‡ºä¸€åˆ‡èƒ½è®©è‡ªå·±æå‡çš„çŸ¥è¯†ã€‚">
    <meta name="keywords" content="è‡ªæˆ‘æå‡,æ•ˆç‡æå‡,å¼€æºå·¥å…·,å­¦ä¹ ç¬”è®°" />
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.9613470c.css">
    <link rel="modulepreload" href="/assets/app.2a33308c.js"><link rel="modulepreload" href="/assets/db-redis-x-cache.html.07e273cb.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/db-redis-x-cache.html.c0a4ca08.js">
    <!-- çœ‹æ¿å¨˜åŒºå— -->
    <link href="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-y/font-awesome/6.0.0/css/all.min.css" type="text/css" rel="stylesheet" />
    <script src="/live2d-widget/autoload.js"></script>
    <!-- End çœ‹æ¿å¨˜åŒºå— -->
    <!-- Matomo æ­¤åŒºå—ä¸ºç»Ÿè®¡ä»£ç ï¼Œè¯·åˆ é™¤-->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://piwik.seoipo.com/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '7']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code æ­¤åŒºå—ä¸ºç»Ÿè®¡ä»£ç ï¼Œè¯·åˆ é™¤-->
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/assets/icon/logo.png" alt="å‡¤å‡°æ¶…æ§ƒè¿›é˜¶ä¹‹è·¯"><!----><span class="site-name hide-in-pad">å‡¤å‡°æ¶…æ§ƒè¿›é˜¶ä¹‹è·¯</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/blog.html" class="nav-link" aria-label="åšå®¢"><span class="icon iconfont icon-gaishu"></span>åšå®¢<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="icon iconfont icon-creative"></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java/base/Java-basis-oop.html" class="nav-link" aria-label="JavaåŸºç¡€"><!---->JavaåŸºç¡€<!----></a></li><li class="dropdown-item"><a href="/java/io/java-io-overview.html" class="nav-link" aria-label="Java IO"><!---->Java IO<!----></a></li><li class="dropdown-item"><a href="/java/collection/java-collection-overview.html" class="nav-link" aria-label="Javaé›†åˆ"><!---->Javaé›†åˆ<!----></a></li><li class="dropdown-item"><a href="/java/thread/java-thread-x-theorty.html" class="nav-link" aria-label="Javaå¹¶å‘"><!---->Javaå¹¶å‘<!----></a></li><li class="dropdown-item"><a href="/java/java8/java8-lambda.html" class="nav-link" aria-label="Java8"><!---->Java8<!----></a></li><li class="dropdown-item"><a href="/java/jvm/jvm-overview.html" class="nav-link" aria-label="JVM"><!---->JVM<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="icon iconfont icon-creative"></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/db/sql/sql-x-basic.html" class="nav-link" aria-label="æ•°æ®åº“åŸºç¡€/SQLåŸºç¡€"><!---->æ•°æ®åº“åŸºç¡€/SQLåŸºç¡€<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Sqlæ•°æ®åº“</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/sql-mysql-overview.html" class="nav-link" aria-label="Mysql"><!---->Mysql<!----></a></li><li class="dropdown-subitem"><a href="/db/oracle/oracle-b-sequence.html" class="nav-link" aria-label="Oracle"><!---->Oracle<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>NoSqlæ•°æ®åº“</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/redis/db-redis-introduce.html" class="nav-link" aria-label="Redis"><!---->Redis<!----></a></li><li class="dropdown-subitem"><a href="/db/mongodb/mongodb-started.html" class="nav-link" aria-label="MongoDb"><!---->MongoDb<!----></a></li><li class="dropdown-subitem"><a href="/db/es/elasticsearch-x-introduce-1.html" class="nav-link" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¡†æ¶|ä¾èµ–"><span class="title"><span class="icon iconfont icon-creative"></span>æ¡†æ¶|ä¾èµ–</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dependencies/spring/spring-overview.html" class="nav-link" aria-label="Spring"><!---->Spring<!----></a></li><li class="dropdown-subitem"><a href="/dependencies/spring-boot/springboot-x-overview.html" class="nav-link" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ORM</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dependencies/mybatis/mybatis-y-arch.html" class="nav-link" aria-label="Mybatis"><!---->Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/dependencies/mybatis-plus/mybatis-plus-x-gen-code.html" class="nav-link" aria-label="Mybatis-Plus"><!---->Mybatis-Plus<!----></a></li></ul></li><li class="dropdown-item"><a href="/dependencies/office/office-x-aspose.html" class="nav-link" aria-label="Officeæ–‡æ¡£æ“ä½œ"><!---->Officeæ–‡æ¡£æ“ä½œ<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€å‘|æµ‹è¯•"><span class="title"><span class="icon iconfont icon-creative"></span>å¼€å‘|æµ‹è¯•</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/develop/devlibrary/dev-lib-lombok.html" class="nav-link" aria-label="å¼€å‘-å¸¸ç”¨ç±»åº“"><span class="icon iconfont icon-creative"></span>å¼€å‘-å¸¸ç”¨ç±»åº“<!----></a></li><li class="dropdown-item"><a href="/develop/security/dev-security-x-injection.html" class="nav-link" aria-label="å¼€å‘-å®‰å…¨"><span class="icon iconfont icon-creative"></span>å¼€å‘-å®‰å…¨<!----></a></li><li class="dropdown-item"><a href="/develop/optimization/optimization-x-interface-optimization.html" class="nav-link" aria-label="å¼€å‘ - ä¼˜åŒ–"><span class="icon iconfont icon-creative"></span>å¼€å‘ - ä¼˜åŒ–<!----></a></li><li class="dropdown-item"><a href="/develop/style/dev-qt-code-style.html" class="nav-link" aria-label="å¼€å‘ - è§„èŒƒ/é£æ ¼"><span class="icon iconfont icon-creative"></span>å¼€å‘ - è§„èŒƒ/é£æ ¼<!----></a></li><li class="dropdown-item"><a href="/develop/test/ut-overview" class="nav-link" aria-label="æµ‹è¯•"><span class="icon iconfont icon-creative"></span>æµ‹è¯•<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è½¯ä»¶|éƒ¨ç½²"><span class="title"><span class="icon iconfont icon-creative"></span>è½¯ä»¶|éƒ¨ç½²</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/deploy/docker/docker-basic-overview.html" class="nav-link" aria-label="Docker"><span class="icon iconfont icon-creative"></span>Docker<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¶ˆæ¯é˜Ÿåˆ—</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/deploy/mq/mq-a-overview.html" class="nav-link" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><!---->æ¶ˆæ¯é˜Ÿåˆ—<!----></a></li><li class="dropdown-subitem"><a href="/deploy/mq-rabbitmq/rabbitmq-x-overview.html" class="nav-link" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><li class="dropdown-subitem"><a href="/deploy/mq-kafka/kafka-x-overview.html" class="nav-link" aria-label="Kafka"><!---->Kafka<!----></a></li></ul></li><li class="dropdown-item"><a href="/deploy/skywalking/skywalking-x-principle.html" class="nav-link" aria-label="Skywalking"><span class="icon iconfont icon-creative"></span>Skywalking<!----></a></li><li class="dropdown-item"><a href="/deploy/linux/linux-j-monitor-overview.html" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-creative"></span>Linux<!----></a></li><li class="dropdown-item"><a href="/deploy/jenkins/jenkins-overview.html" class="nav-link" aria-label="Jenkins"><span class="icon iconfont icon-creative"></span>Jenkins<!----></a></li><li class="dropdown-item"><a href="/deploy/nginx/nginx-x-overview.html" class="nav-link" aria-label="Nginx"><span class="icon iconfont icon-creative"></span>Nginx<!----></a></li><li class="dropdown-item"><a href="/deploy/deploy/docker-basic-overview" class="nav-link" aria-label="éƒ¨ç½²"><span class="icon iconfont icon-creative"></span>éƒ¨ç½²<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¶æ„|ç³»ç»Ÿ"><span class="title"><span class="icon iconfont icon-creative"></span>æ¶æ„|ç³»ç»Ÿ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/arch/base/arch-basic.html" class="nav-link" aria-label="æ¶æ„åŸºç¡€"><span class="icon iconfont icon-creative"></span>æ¶æ„åŸºç¡€<!----></a></li><li class="dropdown-item"><a href="/arch/distributed/arch-id.html" class="nav-link" aria-label="åˆ†å¸ƒå¼ç³»ç»Ÿ"><span class="icon iconfont icon-creative"></span>åˆ†å¸ƒå¼ç³»ç»Ÿ<!----></a></li><li class="dropdown-item"><a href="/arch/microservices/ms-overview.html" class="nav-link" aria-label="å¾®æœåŠ¡"><span class="icon iconfont icon-creative"></span>å¾®æœåŠ¡<!----></a></li><li class="dropdown-item"><a href="/arch/minio/minio-concept.html" class="nav-link" aria-label="å¯¹è±¡å­˜å‚¨-Minio"><span class="icon iconfont icon-creative"></span>å¯¹è±¡å­˜å‚¨-Minio<!----></a></li><li class="dropdown-item"><a href="/arch/manage-system/manage-system-technical-selection.html" class="nav-link" aria-label="åå°ç®¡ç†ç³»ç»Ÿ"><span class="icon iconfont icon-creative"></span>åå°ç®¡ç†ç³»ç»Ÿ<!----></a></li><li class="dropdown-item"><a href="/arch/mall/mall-sku.html" class="nav-link" aria-label="å•†åŸè®¾è®¡"><span class="icon iconfont icon-creative"></span>å•†åŸè®¾è®¡<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è¯­è¨€|å¹³å°"><span class="title"><span class="icon iconfont icon-creative"></span>è¯­è¨€|å¹³å°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/language/android/android-call-js.html" class="nav-link" aria-label="Android"><span class="icon iconfont icon-creative"></span>Android<!----></a></li><li class="dropdown-item"><a href="/language/python/python-advantage.html" class="nav-link" aria-label="python"><span class="icon iconfont icon-creative"></span>python<!----></a></li><li class="dropdown-item"><a href="/language/weixin/wx-package-Optimization.html" class="nav-link" aria-label="å¾®ä¿¡"><span class="icon iconfont icon-creative"></span>å¾®ä¿¡<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ‚é¡¹|æ€è€ƒ"><span class="title"><span class="icon iconfont icon-creative"></span>æ‚é¡¹|æ€è€ƒ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/think/deepImpression/redis-bigdata-slow-problem.html" class="nav-link" aria-label="å°è±¡æ·±åˆ»bug"><span class="icon iconfont icon-creative"></span>å°è±¡æ·±åˆ»bug<!----></a></li><li class="dropdown-item"><a href="/think/optimization/optimization-x-frequent-operation-db.html" class="nav-link" aria-label="ä¼˜åŒ–"><span class="icon iconfont icon-creative"></span>ä¼˜åŒ–<!----></a></li><li class="dropdown-item"><a href="/think/misc/misc-x-middleware.html" class="nav-link" aria-label="æ‚é¡¹"><span class="icon iconfont icon-creative"></span>æ‚é¡¹<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><div class="nav-item"><a class="repo-link" href="https://github.com/token01/token01.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><div id="docsearch-container"></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">SQLåŸºç¡€</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Mysql</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Oracle</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">Redis</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/db/redis/db-redis-introduce.html" class="nav-link sidebar-link sidebar-page" aria-label="Rediså…¥é—¨ - Redisæ¦‚å¿µå’ŒåŸºç¡€"><!---->Rediså…¥é—¨ - Redisæ¦‚å¿µå’ŒåŸºç¡€<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-data-types.html" class="nav-link sidebar-link sidebar-page" aria-label="Rediså…¥é—¨ - æ•°æ®ç±»å‹ï¼š5ç§åŸºç¡€æ•°æ®ç±»å‹è¯¦è§£"><!---->Rediså…¥é—¨ - æ•°æ®ç±»å‹ï¼š5ç§åŸºç¡€æ•°æ®ç±»å‹è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-data-type-special.html" class="nav-link sidebar-link sidebar-page" aria-label="Rediså…¥é—¨ - 3ç§ç‰¹æ®Šç±»å‹è¯¦è§£"><!---->Rediså…¥é—¨ - 3ç§ç‰¹æ®Šç±»å‹è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-data-type-stream.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - æ•°æ®ç±»å‹ï¼šStreamè¯¦è§£"><!---->Redisè¿›é˜¶ - æ•°æ®ç±»å‹ï¼šStreamè¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-event.html" class="nav-link sidebar-link sidebar-page" aria-label="å•å…ƒæµ‹è¯• - IDEAä¸‹å•å…ƒæµ‹è¯•è¯¦è§£"><!---->å•å…ƒæµ‹è¯• - IDEAä¸‹å•å…ƒæµ‹è¯•è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/db/redis/db-redis-x-cache.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="æ¶æ„ä¹‹é«˜å¹¶å‘-é™çº§å’Œç†”æ–­"><!---->æ¶æ„ä¹‹é«˜å¹¶å‘-é™çº§å’Œç†”æ–­<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_1-èƒŒæ™¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. èƒŒæ™¯"><!---->1. èƒŒæ™¯<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_1-1-ä»€ä¹ˆæ˜¯é™çº§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 ä»€ä¹ˆæ˜¯é™çº§"><!---->1.1 ä»€ä¹ˆæ˜¯é™çº§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_1-2-ç†”æ–­å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 ç†”æ–­å™¨ï¼š"><!---->1.2 ç†”æ–­å™¨ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_2-åŸºæœ¬çš„å®¹é”™æ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. åŸºæœ¬çš„å®¹é”™æ¨¡å¼"><!---->2. åŸºæœ¬çš„å®¹é”™æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-æœåŠ¡é™çº§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. æœåŠ¡é™çº§"><!---->3. æœåŠ¡é™çº§<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-1é™çº§æœåŠ¡çš„ç‰¹å¾" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1é™çº§æœåŠ¡çš„ç‰¹å¾"><!---->3.1é™çº§æœåŠ¡çš„ç‰¹å¾<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-2-é™çº§æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.2 é™çº§æ–¹å¼"><!---->3.2 é™çº§æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-3-é™çº§é¢„æ¡ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3 é™çº§é¢„æ¡ˆ"><!---->3.3 é™çº§é¢„æ¡ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-4-æœåŠ¡é™çº§åˆ†ç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.4 æœåŠ¡é™çº§åˆ†ç±»"><!---->3.4 æœåŠ¡é™çº§åˆ†ç±»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-5-è‡ªåŠ¨é™çº§åˆ†ç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.5 è‡ªåŠ¨é™çº§åˆ†ç±»"><!---->3.5 è‡ªåŠ¨é™çº§åˆ†ç±»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-6-æœåŠ¡é™çº§éœ€è€ƒè™‘çš„é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.6 æœåŠ¡é™çº§éœ€è€ƒè™‘çš„é—®é¢˜"><!---->3.6 æœåŠ¡é™çº§éœ€è€ƒè™‘çš„é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-æœåŠ¡ç†”æ–­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. æœåŠ¡ç†”æ–­"><!---->4. æœåŠ¡ç†”æ–­<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-1-ç›¸å…³æ¦‚å¿µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.1 ç›¸å…³æ¦‚å¿µ"><!---->4.1 ç›¸å…³æ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-2-ç†”æ–­æµç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.2 ç†”æ–­æµç¨‹"><!---->4.2 ç†”æ–­æµç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-3-æœåŠ¡ç†”æ–­ä¸æœåŠ¡é™çº§æ¯”è¾ƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.3 æœåŠ¡ç†”æ–­ä¸æœåŠ¡é™çº§æ¯”è¾ƒ"><!---->4.3 æœåŠ¡ç†”æ–­ä¸æœåŠ¡é™çº§æ¯”è¾ƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-4-æœåŠ¡ç†”æ–­ä¸­éœ€è€ƒè™‘çš„è®¾è®¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.4 æœåŠ¡ç†”æ–­ä¸­éœ€è€ƒè™‘çš„è®¾è®¡"><!---->4.4 æœåŠ¡ç†”æ–­ä¸­éœ€è€ƒè™‘çš„è®¾è®¡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-5-æœåŠ¡ç†”æ–­æ¢å¤éœ€æ³¨æ„çš„é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.5 æœåŠ¡ç†”æ–­æ¢å¤éœ€æ³¨æ„çš„é—®é¢˜"><!---->4.5 æœåŠ¡ç†”æ–­æ¢å¤éœ€æ³¨æ„çš„é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-æ–¹æ¡ˆ-hystrixç®€ä»‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. æ–¹æ¡ˆï¼šHystrixç®€ä»‹"><!---->5. æ–¹æ¡ˆï¼šHystrixç®€ä»‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-1-hystrixè®¾è®¡åŸåˆ™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.1 Hystrixè®¾è®¡åŸåˆ™"><!---->5.1 Hystrixè®¾è®¡åŸåˆ™<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-2-hystrixç‰¹æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.2 Hystrixç‰¹æ€§"><!---->5.2 Hystrixç‰¹æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-3-hystrixæµç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.3 Hystrixæµç¨‹"><!---->5.3 Hystrixæµç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-4-hystrixæµ‹è¯•è¯´æ˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.4 Hystrixæµ‹è¯•è¯´æ˜"><!---->5.4 Hystrixæµ‹è¯•è¯´æ˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_6-æ–¹æ¡ˆ-sentinelç®€ä»‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. æ–¹æ¡ˆï¼šSentinelç®€ä»‹"><!---->6. æ–¹æ¡ˆï¼šSentinelç®€ä»‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_6-1-sentinel-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.1 Sentinel æ˜¯ä»€ä¹ˆ"><!---->6.1 Sentinel æ˜¯ä»€ä¹ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_6-2-sentinelç‰¹å¾" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.2 Sentinelç‰¹å¾"><!---->6.2 Sentinelç‰¹å¾<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#å‚è€ƒæ–‡ç« " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚è€ƒæ–‡ç« "><!---->å‚è€ƒæ–‡ç« <!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-redis-object.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - æ•°æ®ç±»å‹ï¼šå¯¹è±¡æœºåˆ¶è¯¦è§£"><!---->Redisè¿›é˜¶ - æ•°æ®ç±»å‹ï¼šå¯¹è±¡æœºåˆ¶è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-pub-sub.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - æ¶ˆæ¯ä¼ é€’ï¼šå‘å¸ƒè®¢é˜…æ¨¡å¼è¯¦è§£"><!---->Redisè¿›é˜¶ - æ¶ˆæ¯ä¼ é€’ï¼šå‘å¸ƒè®¢é˜…æ¨¡å¼è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-trans.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - äº‹åŠ¡ï¼šRedisäº‹åŠ¡è¯¦è§£"><!---->Redisè¿›é˜¶ - äº‹åŠ¡ï¼šRedisäº‹åŠ¡è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-copy.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - é«˜å¯ç”¨ï¼šä¸»ä»å¤åˆ¶è¯¦è§£"><!---->Redisè¿›é˜¶ - é«˜å¯ç”¨ï¼šä¸»ä»å¤åˆ¶è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-y-install-sentinel.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - é«˜å¯ç”¨ï¼šå“¨å…µæœºåˆ¶ï¼ˆRedis Sentinelï¼‰è¯¦è§£"><!---->Redisè¿›é˜¶ - é«˜å¯ç”¨ï¼šå“¨å…µæœºåˆ¶ï¼ˆRedis Sentinelï¼‰è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-cluster.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - é«˜å¯æ‹“å±•ï¼šåˆ†ç‰‡æŠ€æœ¯ï¼ˆRedis Clusterï¼‰è¯¦è§£"><!---->Redisè¿›é˜¶ - é«˜å¯æ‹“å±•ï¼šåˆ†ç‰‡æŠ€æœ¯ï¼ˆRedis Clusterï¼‰è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-rdb-aof.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - é«˜å¯æ‹“å±•ï¼šåˆ†ç‰‡æŠ€æœ¯ï¼ˆRedis Clusterï¼‰è¯¦è§£"><!---->Redisè¿›é˜¶ - é«˜å¯æ‹“å±•ï¼šåˆ†ç‰‡æŠ€æœ¯ï¼ˆRedis Clusterï¼‰è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-consistency.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - å¦‚ä½•ä¿éšœMySQLå’ŒRedisçš„æ•°æ®ä¸€è‡´æ€§ï¼Ÿ"><!---->Redisè¿›é˜¶ - å¦‚ä½•ä¿éšœMySQLå’ŒRedisçš„æ•°æ®ä¸€è‡´æ€§ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-hot-key.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - Redisçƒ­keyé—®é¢˜"><!---->Redisè¿›é˜¶ - Redisçƒ­keyé—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-x-performance.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisè¿›é˜¶ - æ€§èƒ½è°ƒä¼˜ï¼šRedisæ€§èƒ½è°ƒä¼˜è¯¦è§£"><!---->Redisè¿›é˜¶ - æ€§èƒ½è°ƒä¼˜ï¼šRedisæ€§èƒ½è°ƒä¼˜è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-overview.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - redisé—®é¢˜æ€»ç»“"><!---->Redisé¢è¯• - redisé—®é¢˜æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-overview-detail.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - redisé—®é¢˜æ€»ç»“(ç­”æ¡ˆç‰ˆ)"><!---->Redisé¢è¯• - redisé—®é¢˜æ€»ç»“(ç­”æ¡ˆç‰ˆ)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-basic.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - å¸¸è§„é—®é¢˜"><!---->Redisé¢è¯• - å¸¸è§„é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-datatype.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - æ•°æ®ç±»å‹å’Œæ•°æ®ç»“æ„"><!---->Redisé¢è¯• - æ•°æ®ç±»å‹å’Œæ•°æ®ç»“æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-persistence.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - æŒä¹…åŒ–å’Œå†…å­˜"><!---->Redisé¢è¯• - æŒä¹…åŒ–å’Œå†…å­˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-tran.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - äº‹åŠ¡"><!---->Redisé¢è¯• - äº‹åŠ¡<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-master-salve.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - é›†ç¾¤-ä¸»ä»å¤åˆ¶"><!---->Redisé¢è¯• - é›†ç¾¤-ä¸»ä»å¤åˆ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-sentinel.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - é›†ç¾¤-å“¨å…µæœºåˆ¶"><!---->Redisé¢è¯• - é›†ç¾¤-å“¨å…µæœºåˆ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-apply.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - åº”ç”¨åœºæ™¯"><!---->Redisé¢è¯• - åº”ç”¨åœºæ™¯<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-cluster.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - é›†ç¾¤-åˆ†ç‰‡æŠ€æœ¯"><!---->Redisé¢è¯• - é›†ç¾¤-åˆ†ç‰‡æŠ€æœ¯<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-new.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé¢è¯• - æ–°ç‰ˆæœ¬"><!---->Redisé¢è¯• - æ–°ç‰ˆæœ¬<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-x-question-double-write.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisä¿è¯ç¼“å­˜ä¸æ•°æ®åº“åŒå†™æ—¶çš„æ•°æ®ä¸€è‡´æ€§"><!---->Redisä¿è¯ç¼“å­˜ä¸æ•°æ®åº“åŒå†™æ—¶çš„æ•°æ®ä¸€è‡´æ€§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-y-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Rediså®‰è£…"><!---->Rediså®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-y-action-bloom.html" class="nav-link sidebar-link sidebar-page" aria-label="Rediså¸ƒéš†è¿‡æ»¤å™¨"><!---->Rediså¸ƒéš†è¿‡æ»¤å™¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-z-interview-other.html" class="nav-link sidebar-link sidebar-page" aria-label="Rediså¸ƒéš†è¿‡æ»¤å™¨"><!---->Rediså¸ƒéš†è¿‡æ»¤å™¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-x-cache-penetration.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisç¼“å­˜ç©¿é€"><!---->Redisç¼“å­˜ç©¿é€<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-x-question-ache-valanche.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisç¼“å­˜é›ªå´©"><!---->Redisç¼“å­˜é›ªå´©<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-x-questuin-cache-warm-up.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisç¼“å­˜é¢„çƒ­"><!---->Redisç¼“å­˜é¢„çƒ­<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-y-action-client.html" class="nav-link sidebar-link sidebar-page" aria-label="redisè¿æ¥å®¢æˆ·ç«¯é€‰æ‹©ï¼šJedis,Redisson,Lettuce"><!---->redisè¿æ¥å®¢æˆ·ç«¯é€‰æ‹©ï¼šJedis,Redisson,Lettuce<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-hash.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé›†ç¾¤ï¼šhashå¯»å€ç®—æ³•"><!---->Redisé›†ç¾¤ï¼šhashå¯»å€ç®—æ³•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-x-sentinel-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Redisé›†ç¾¤æ­å»ºè¯¦è§£"><!---->Redisé›†ç¾¤æ­å»ºè¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-y-action-springboot.html" class="nav-link sidebar-link sidebar-page" aria-label="Spring Booté›†æˆredisä½¿ç”¨"><!---->Spring Booté›†æˆredisä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-y-action.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringBooté›†æˆredisé¡¹ç›®èŒƒä¾‹"><!---->SpringBooté›†æˆredisé¡¹ç›®èŒƒä¾‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-x-quest-key.html" class="nav-link sidebar-link sidebar-page" aria-label="å¦‚ä½•è§£å†³ Redis çš„å¹¶å‘ç«äº‰ Key é—®é¢˜"><!---->å¦‚ä½•è§£å†³ Redis çš„å¹¶å‘ç«äº‰ Key é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/db-redis-y-install-remote.html" class="nav-link sidebar-link sidebar-page" aria-label="å¼€å¯è¿œç¨‹è®¿é—®"><!---->å¼€å¯è¿œç¨‹è®¿é—®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/db/redis/redis-y-action-gen-test-data.html" class="nav-link sidebar-link sidebar-page" aria-label="æ‰¹é‡ç”Ÿæˆredisæµ‹è¯•æ•°æ®æ–¹æ³•"><!---->æ‰¹é‡ç”Ÿæˆredisæµ‹è¯•æ•°æ®æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">MongoDB</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">ElasticSearch</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">æœç´¢å¼•æ“-Solr</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->æ¶æ„ä¹‹é«˜å¹¶å‘-é™çº§å’Œç†”æ–­</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ24æ—¥" isoriginal="false" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="/about-the-author/" target="_blank" rel="noopener noreferrer">Abel sun</a></span><span property="author" content="Abel sun"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´12æœˆ24æ—¥</span><meta property="datePublished" content="2022-12-24T07:29:06.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ24æ—¥" isoriginal="false" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category6 clickable" role="navigation">æ¶æ„</li><meta property="articleSection" content="æ¶æ„"></ul></span><!----><span class="words-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down" localizeddate="2022å¹´12æœˆ24æ—¥" isoriginal="false" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 6518 å­—</span><meta property="wordCount" content="6518"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ24æ—¥" isoriginal="false" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 22 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT22M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_1-èƒŒæ™¯" class="router-link-active router-link-exact-active toc-link level2">1. èƒŒæ™¯</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_1-1-ä»€ä¹ˆæ˜¯é™çº§" class="router-link-active router-link-exact-active toc-link level3">1.1 ä»€ä¹ˆæ˜¯é™çº§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_1-2-ç†”æ–­å™¨" class="router-link-active router-link-exact-active toc-link level3">1.2 ç†”æ–­å™¨ï¼š</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_2-åŸºæœ¬çš„å®¹é”™æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level2">2. åŸºæœ¬çš„å®¹é”™æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-æœåŠ¡é™çº§" class="router-link-active router-link-exact-active toc-link level2">3. æœåŠ¡é™çº§</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-1é™çº§æœåŠ¡çš„ç‰¹å¾" class="router-link-active router-link-exact-active toc-link level3">3.1é™çº§æœåŠ¡çš„ç‰¹å¾</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-2-é™çº§æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">3.2 é™çº§æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-3-é™çº§é¢„æ¡ˆ" class="router-link-active router-link-exact-active toc-link level3">3.3 é™çº§é¢„æ¡ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-4-æœåŠ¡é™çº§åˆ†ç±»" class="router-link-active router-link-exact-active toc-link level3">3.4 æœåŠ¡é™çº§åˆ†ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-5-è‡ªåŠ¨é™çº§åˆ†ç±»" class="router-link-active router-link-exact-active toc-link level3">3.5 è‡ªåŠ¨é™çº§åˆ†ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_3-6-æœåŠ¡é™çº§éœ€è€ƒè™‘çš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">3.6 æœåŠ¡é™çº§éœ€è€ƒè™‘çš„é—®é¢˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-æœåŠ¡ç†”æ–­" class="router-link-active router-link-exact-active toc-link level2">4. æœåŠ¡ç†”æ–­</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-1-ç›¸å…³æ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level3">4.1 ç›¸å…³æ¦‚å¿µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-2-ç†”æ–­æµç¨‹" class="router-link-active router-link-exact-active toc-link level3">4.2 ç†”æ–­æµç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-3-æœåŠ¡ç†”æ–­ä¸æœåŠ¡é™çº§æ¯”è¾ƒ" class="router-link-active router-link-exact-active toc-link level3">4.3 æœåŠ¡ç†”æ–­ä¸æœåŠ¡é™çº§æ¯”è¾ƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-4-æœåŠ¡ç†”æ–­ä¸­éœ€è€ƒè™‘çš„è®¾è®¡" class="router-link-active router-link-exact-active toc-link level3">4.4 æœåŠ¡ç†”æ–­ä¸­éœ€è€ƒè™‘çš„è®¾è®¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_4-5-æœåŠ¡ç†”æ–­æ¢å¤éœ€æ³¨æ„çš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">4.5 æœåŠ¡ç†”æ–­æ¢å¤éœ€æ³¨æ„çš„é—®é¢˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-æ–¹æ¡ˆ-hystrixç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">5. æ–¹æ¡ˆï¼šHystrixç®€ä»‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-1-hystrixè®¾è®¡åŸåˆ™" class="router-link-active router-link-exact-active toc-link level3">5.1 Hystrixè®¾è®¡åŸåˆ™</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-2-hystrixç‰¹æ€§" class="router-link-active router-link-exact-active toc-link level3">5.2 Hystrixç‰¹æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-3-hystrixæµç¨‹" class="router-link-active router-link-exact-active toc-link level3">5.3 Hystrixæµç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_5-4-hystrixæµ‹è¯•è¯´æ˜" class="router-link-active router-link-exact-active toc-link level3">5.4 Hystrixæµ‹è¯•è¯´æ˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_6-æ–¹æ¡ˆ-sentinelç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">6. æ–¹æ¡ˆï¼šSentinelç®€ä»‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_6-1-sentinel-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">6.1 Sentinel æ˜¯ä»€ä¹ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#_6-2-sentinelç‰¹å¾" class="router-link-active router-link-exact-active toc-link level3">6.2 Sentinelç‰¹å¾</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/db/redis/db-redis-x-cache.html#å‚è€ƒæ–‡ç« " class="router-link-active router-link-exact-active toc-link level2">å‚è€ƒæ–‡ç« </a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="æ¶æ„ä¹‹é«˜å¹¶å‘-é™çº§å’Œç†”æ–­" tabindex="-1"><a class="header-anchor" href="#æ¶æ„ä¹‹é«˜å¹¶å‘-é™çº§å’Œç†”æ–­" aria-hidden="true">#</a> æ¶æ„ä¹‹é«˜å¹¶å‘-é™çº§å’Œç†”æ–­</h1><blockquote><p><strong>é«˜å¹¶å‘å®ç°çš„ä¸‰æ¿æ–§ï¼šç¼“å­˜ï¼Œé™æµå’Œé™çº§</strong>ã€‚</p><p>åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ï¼Œ<strong>æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»å¯¼è‡´è°ƒç”¨å¤±è´¥ï¼Œè§£å†³çš„æ–¹å¼é€šå¸¸æ˜¯: é™æµ-&gt;ç†”æ–­-&gt;éš”ç¦»-&gt;é™çº§, å…¶ç›®çš„æ˜¯é˜²æ­¢é›ªå´©æ•ˆåº”</strong>ã€‚</p></blockquote><h2 id="_1-èƒŒæ™¯" tabindex="-1"><a class="header-anchor" href="#_1-èƒŒæ™¯" aria-hidden="true">#</a> 1. èƒŒæ™¯</h2><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªæœåŠ¡å¾€å¾€ä¾èµ–å¤šä¸ªæœåŠ¡ï¼Œå¯èƒ½å­˜åœ¨æŸä¸ªæœåŠ¡è°ƒç”¨å¤±è´¥ï¼Œæ¯”å¦‚è¶…æ—¶ã€å¼‚å¸¸ç­‰ï¼Œæ›´åçš„æƒ…å†µæ˜¯ï¼Œå¦‚æœæœ‰å¤šä¸ªæœåŠ¡å¯¹åŒä¸€ä¸ªæŒ‚èµ·çš„æœåŠ¡è¿›è¡Œè°ƒç”¨ï¼Œé‚£ä¹ˆå°±å¾ˆæœ‰å¯èƒ½çš„æ˜¯ä¸€ä¸ªæœåŠ¡çš„è¶…æ—¶ç­‰å¾…è¿…é€Ÿè”“å»¶åˆ°æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¼•èµ·é›ªå´©æ•ˆåº”ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œè§£å†³æ€è·¯æ˜¯<strong>ç†”æ–­æˆ–é™çº§</strong>ï¼Œé€šè¿‡æä¾›<strong>æœ‰æŸæœåŠ¡</strong>ï¼Œä¿è¯æœåŠ¡çš„<strong>æŸ”æ€§å¯ç”¨</strong>ï¼Œé¿å…é›ªå´©æ•ˆåº”ã€‚</p><h3 id="_1-1-ä»€ä¹ˆæ˜¯é™çº§" tabindex="-1"><a class="header-anchor" href="#_1-1-ä»€ä¹ˆæ˜¯é™çº§" aria-hidden="true">#</a> 1.1 ä»€ä¹ˆæ˜¯<strong>é™çº§</strong></h3><blockquote><p>å°±æ˜¯åœ¨è°ƒç”¨çš„ä¸‹æ¸¸æœåŠ¡Aå‡ºç°é—®é¢˜ï¼ˆå¸¸è§è¶…æ—¶ï¼‰ï¼Œæä¾›PLAN-Bï¼Œè¿”å›çš„æ•ˆæœå¯èƒ½æ²¡æœ‰æœåŠ¡Aå¥½ï¼Œä½†æ˜¯èŠèƒœäºæ— ã€‚</p></blockquote><p>æœåŠ¡é™çº§æ˜¯æœåŠ¡å™¨å‹åŠ›å‰§å¢çš„æ—¶å€™ï¼Œæ ¹æ®å½“å‰ä¸šåŠ¡æƒ…å†µåŠæµé‡ï¼Œä¸ºäº†é¢„é˜²æŸäº›åŠŸèƒ½å‡ºç°ç¬¦åˆè¿‡è½½æˆ–è€…å“åº”æ…¢çš„æƒ…å†µï¼Œåœ¨å…¶å†…éƒ¨æš‚æ—¶èˆå¼ƒä¸€äº›éæ ¸å¿ƒçš„è¯·æ±‚ï¼Œ<strong>ç›´æ¥è¿”å›ä¸€ä¸ªæå‰å‡†å¤‡å¥½çš„fallbackï¼ˆé€€è·¯ï¼‰é”™è¯¯å¤„ç†ä¿¡æ¯</strong>ã€‚è¿™æ ·ï¼Œè™½ç„¶æä¾›çš„æ˜¯ä¸€ä¸ªæœ‰æŸæœåŠ¡ï¼Œä½†å¯ä»¥ä¿è¯æ•´ä¸ªç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ã€‚</p><h3 id="_1-2-ç†”æ–­å™¨" tabindex="-1"><a class="header-anchor" href="#_1-2-ç†”æ–­å™¨" aria-hidden="true">#</a> 1.2 <strong>ç†”æ–­å™¨</strong>ï¼š</h3><blockquote><p>ç†”æ–­å™¨çš„å­˜åœ¨å°±æ˜¯è¦ä¿éšœä½•æ—¶èµ°åˆ°é™çº§æ–¹æ³•ï¼Œä½•æ—¶æ¢å¤ï¼Œä»¥ä»€ä¹ˆæ ·çš„ç­–ç•¥æ¢å¤ã€‚</p></blockquote><p><strong>æ–­è·¯å™¨ï¼ˆCircuit Breakerï¼‰æ¨¡å¼</strong>å°±æ˜¯ä¸ºäº†é˜²æ­¢åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‡ºç°è¿™ç§ç€‘å¸ƒä¼¼çš„è¿é”ååº”å¯¼è‡´çš„ç¾éš¾ã€‚</p><p>ä¸€æ—¦æŸä¸ªç”µå™¨å‡ºé—®é¢˜ï¼Œä¸ºäº†é˜²æ­¢ç¾éš¾ï¼Œç”µè·¯çš„ä¿é™©ä¸å°±ä¼šç†”æ–­ã€‚æ–­è·¯å™¨ç±»ä¼¼äºç”µè·¯çš„ä¿é™©ä¸ï¼Œ å®ç°æ€è·¯éå¸¸ç®€å•ï¼Œå¯ä»¥å°†<strong>éœ€è¦ä¿æŠ¤çš„è¿œç¨‹æœåŠ¡è°ƒç”¨å°è£…èµ·æ¥ï¼Œåœ¨å†…éƒ¨ç›‘å¬å¤±è´¥æ¬¡æ•°ï¼Œ ä¸€æ—¦å¤±è´¥æ¬¡æ•°è¾¾åˆ°æŸé˜€å€¼åï¼Œæ‰€æœ‰åç»­å¯¹è¯¥æœåŠ¡çš„è°ƒç”¨</strong>ï¼Œ<strong>æ–­è·¯å™¨æˆªè·åéƒ½ç›´æ¥è¿”å›é”™è¯¯åˆ°è°ƒç”¨æ–¹</strong>ï¼Œè€Œä¸ä¼šç»§ç»­è°ƒç”¨å·²ç»å‡ºé—®é¢˜çš„æœåŠ¡ï¼Œ ä»è€Œè¾¾åˆ°ä¿æŠ¤è°ƒç”¨æ–¹çš„ç›®çš„, æ•´ä¸ªç³»ç»Ÿä¹Ÿå°±ä¸ä¼šå‡ºç°å› ä¸ºè¶…æ—¶è€Œäº§ç”Ÿçš„ç€‘å¸ƒå¼è¿é”ååº”ã€‚</p><h2 id="_2-åŸºæœ¬çš„å®¹é”™æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_2-åŸºæœ¬çš„å®¹é”™æ¨¡å¼" aria-hidden="true">#</a> 2. åŸºæœ¬çš„å®¹é”™æ¨¡å¼</h2><ul><li>ä¸»åŠ¨è¶…æ—¶ï¼šHttpè¯·æ±‚ä¸»åŠ¨è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œè¶…æ—¶å°±ç›´æ¥è¿”å›ï¼Œä¸ä¼šé€ æˆæœåŠ¡å †ç§¯</li><li>é™æµï¼šé™åˆ¶æœ€å¤§å¹¶å‘æ•°</li><li>ç†”æ–­ï¼šå½“é”™è¯¯æ•°è¶…è¿‡é˜ˆå€¼æ—¶å¿«é€Ÿå¤±è´¥ï¼Œä¸è°ƒç”¨åç«¯æœåŠ¡ï¼ŒåŒæ—¶éš”ä¸€å®šæ—¶é—´æ”¾å‡ ä¸ªè¯·æ±‚å»é‡è¯•åç«¯æœåŠ¡æ˜¯å¦èƒ½æ­£å¸¸è°ƒç”¨ï¼Œå¦‚æœæˆåŠŸåˆ™å…³é—­ç†”æ–­çŠ¶æ€ï¼Œå¤±è´¥åˆ™ç»§ç»­å¿«é€Ÿå¤±è´¥ï¼Œç›´æ¥è¿”å›ã€‚ï¼ˆæ­¤å¤„æœ‰ä¸ªé‡è¯•ï¼Œé‡è¯•å°±æ˜¯å¼¹æ€§æ¢å¤çš„èƒ½åŠ›ï¼‰</li><li>éš”ç¦»ï¼šæŠŠæ¯ä¸ªä¾èµ–æˆ–è°ƒç”¨çš„æœåŠ¡éƒ½éš”ç¦»å¼€æ¥ï¼Œé˜²æ­¢çº§è”å¤±è´¥å¼•èµ·æ•´ä½“æœåŠ¡ä¸å¯ç”¨</li><li>é™çº§ï¼šæœåŠ¡å¤±è´¥æˆ–å¼‚å¸¸åï¼Œè¿”å›æŒ‡å®šçš„é»˜è®¤ä¿¡æ¯</li></ul><p><img src="https://abelsun-1256449468.cos.ap-beijing.myqcloud.com/image/image-20220701223819962.png" alt="image-20220701223819962"></p><h2 id="_3-æœåŠ¡é™çº§" tabindex="-1"><a class="header-anchor" href="#_3-æœåŠ¡é™çº§" aria-hidden="true">#</a> 3. æœåŠ¡é™çº§</h2><p>ç”±äºçˆ†ç‚¸æ€§çš„æµé‡å†²å‡»ï¼Œå¯¹ä¸€äº›æœåŠ¡è¿›è¡Œæœ‰ç­–ç•¥çš„æ”¾å¼ƒï¼Œä»¥æ­¤ç¼“è§£ç³»ç»Ÿå‹åŠ›ï¼Œä¿è¯ç›®å‰ä¸»è¦ä¸šåŠ¡çš„æ­£å¸¸è¿è¡Œã€‚å®ƒä¸»è¦æ˜¯é’ˆå¯¹éæ­£å¸¸æƒ…å†µä¸‹çš„åº”æ€¥æœåŠ¡æªæ–½ï¼šå½“æ­¤æ—¶ä¸€äº›ä¸šåŠ¡æœåŠ¡æ— æ³•æ‰§è¡Œæ—¶ï¼Œç»™å‡ºä¸€ä¸ªç»Ÿä¸€çš„è¿”å›ç»“æœã€‚</p><h3 id="_3-1é™çº§æœåŠ¡çš„ç‰¹å¾" tabindex="-1"><a class="header-anchor" href="#_3-1é™çº§æœåŠ¡çš„ç‰¹å¾" aria-hidden="true">#</a> 3.1é™çº§æœåŠ¡çš„ç‰¹å¾</h3><ul><li>åŸå› ï¼šæ•´ä½“è´Ÿè·è¶…å‡ºæ•´ä½“è´Ÿè½½æ‰¿å—èƒ½åŠ›ã€‚</li><li>ç›®çš„ï¼šä¿è¯é‡è¦æˆ–åŸºæœ¬æœåŠ¡æ­£å¸¸è¿è¡Œï¼Œéé‡è¦æœåŠ¡å»¶è¿Ÿä½¿ç”¨æˆ–æš‚åœä½¿ç”¨</li><li>å¤§å°ï¼šé™ä½æœåŠ¡ç²’åº¦ï¼Œè¦è€ƒè™‘æ•´ä½“æ¨¡å—ç²’åº¦çš„å¤§å°ï¼Œå°†ç²’åº¦æ§åˆ¶åœ¨åˆé€‚çš„èŒƒå›´å†…</li><li>å¯æ§æ€§ï¼šåœ¨æœåŠ¡ç²’åº¦å¤§å°çš„åŸºç¡€ä¸Šå¢åŠ æœåŠ¡çš„å¯æ§æ€§ï¼Œåå°æœåŠ¡å¼€å…³çš„åŠŸèƒ½æ˜¯ä¸€é¡¹å¿…è¦é…ç½®ï¼ˆå•æœºå¯é…ç½®æ–‡ä»¶ï¼Œå…¶ä»–å¯é¢†ç”¨æ•°æ®åº“å’Œç¼“å­˜ï¼‰ï¼Œå¯åˆ†ä¸ºæ‰‹åŠ¨æ§åˆ¶å’Œè‡ªåŠ¨æ§åˆ¶ã€‚</li><li>æ¬¡åºï¼šä¸€èˆ¬ä»å¤–å›´å»¶ä¼¸æœåŠ¡å¼€å§‹é™çº§ï¼Œéœ€è¦æœ‰ä¸€å®šçš„é…ç½®é¡¹ï¼Œé‡è¦æ€§ä½çš„ä¼˜å…ˆé™çº§ï¼Œæ¯”å¦‚å¯ä»¥åˆ†ç»„è®¾ç½®ç­‰çº§1-10ï¼Œå½“æœåŠ¡éœ€è¦é™çº§åˆ°æŸä¸€ä¸ªçº§åˆ«æ—¶ï¼Œè¿›è¡Œç›¸å…³é…ç½®</li></ul><h3 id="_3-2-é™çº§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_3-2-é™çº§æ–¹å¼" aria-hidden="true">#</a> 3.2 é™çº§æ–¹å¼</h3><ul><li>é¡µé¢é™çº§ï¼š <ul><li>åœ¨å¤§ä¿ƒæˆ–è€…æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼ŒæŸäº›é¡µé¢å ç”¨äº†ä¸€äº›ç¨€ç¼ºæœåŠ¡èµ„æºï¼Œåœ¨ç´§æ€¥æƒ…å†µä¸‹å¯ä»¥å¯¹å…¶æ•´ä¸ªé™çº§ï¼Œä»¥è¾¾åˆ°ä¸¢å’ä¿å¸…ï¼›</li><li>æ¯”å¦‚å¯ä»¥æœ‰ç›¸å…³æ–‡ç« æ¨èï¼Œä½†æ˜¯æ›´å¤šçš„é¡µé¢åˆ™ç›´æ¥è·³è½¬åˆ°æŸä¸€ä¸ªåœ°å€</li></ul></li><li>é¡µé¢ç‰‡æ®µé™çº§ï¼š <ul><li>æ¯”å¦‚å•†å“è¯¦æƒ…é¡µä¸­çš„å•†å®¶éƒ¨åˆ†å› ä¸ºæ•°æ®é”™è¯¯äº†ï¼Œæ­¤æ—¶éœ€è¦å¯¹å…¶è¿›è¡Œé™çº§ï¼›</li><li>æ¯”å¦‚å…³é—­ç›¸å…³æ–‡ç« çš„æ¨èï¼Œç›´æ¥å…³é—­æ¨èåŒº</li></ul></li><li>é¡µé¢å¼‚æ­¥è¯·æ±‚é™çº§ï¼š <ul><li>æ¯”å¦‚å•†å“è¯¦æƒ…é¡µä¸Šæœ‰æ¨èä¿¡æ¯/é…é€è‡³ç­‰å¼‚æ­¥åŠ è½½çš„è¯·æ±‚ï¼Œå¦‚æœè¿™äº›ä¿¡æ¯å“åº”æ…¢æˆ–è€…åç«¯æœåŠ¡æœ‰é—®é¢˜ï¼Œå¯ä»¥è¿›è¡Œé™çº§ï¼›</li></ul></li><li>å†™é™çº§ï¼š <ul><li>æ¯”å¦‚ç§’æ€æŠ¢è´­ï¼Œæˆ‘ä»¬å¯ä»¥åªè¿›è¡ŒCacheçš„æ›´æ–°ï¼Œç„¶åå¼‚æ­¥åŒæ­¥æ‰£å‡åº“å­˜åˆ°DBï¼Œä¿è¯æœ€ç»ˆä¸€è‡´æ€§å³å¯ï¼Œæ­¤æ—¶å¯ä»¥å°†DBé™çº§ä¸ºCacheã€‚</li></ul></li><li>è¯»é™çº§ï¼š <ul><li>æ¯”å¦‚å¤šçº§ç¼“å­˜æ¨¡å¼ï¼Œå¦‚æœåç«¯æœåŠ¡æœ‰é—®é¢˜ï¼Œå¯ä»¥é™çº§ä¸ºåªè¯»ç¼“å­˜ï¼Œè¿™ç§æ–¹å¼é€‚ç”¨äºå¯¹è¯»ä¸€è‡´æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ã€‚</li></ul></li><li>æœåŠ¡åŠŸèƒ½é™çº§ï¼š <ul><li>æ¯”å¦‚æ¸²æŸ“å•†å“è¯¦æƒ…é¡µæ—¶éœ€è¦è°ƒç”¨ä¸€äº›ä¸å¤ªé‡è¦çš„æœåŠ¡ï¼šç›¸å…³åˆ†ç±»ã€çƒ­é”€æ¦œç­‰ï¼Œè€Œè¿™äº›æœåŠ¡åœ¨å¼‚å¸¸æƒ…å†µä¸‹ç›´æ¥ä¸è·å–ï¼Œå³é™çº§å³å¯ï¼›</li><li>å»¶è¿ŸæœåŠ¡ï¼šæ¯”å¦‚å‘è¡¨äº†è¯„è®ºï¼Œé‡è¦æœåŠ¡ï¼Œæ¯”å¦‚åœ¨æ–‡ç« ä¸­æ˜¾ç¤ºæ­£å¸¸ï¼Œä½†æ˜¯å»¶è¿Ÿç»™ç”¨æˆ·å¢åŠ ç§¯åˆ†ï¼Œåªæ˜¯æ”¾åˆ°ä¸€ä¸ªç¼“å­˜ä¸­ï¼Œç­‰æœåŠ¡å¹³ç¨³ä¹‹åå†æ‰§è¡Œã€‚</li></ul></li></ul><h3 id="_3-3-é™çº§é¢„æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_3-3-é™çº§é¢„æ¡ˆ" aria-hidden="true">#</a> 3.3 é™çº§é¢„æ¡ˆ</h3><p>åœ¨è¿›è¡Œé™çº§ä¹‹å‰è¦å¯¹ç³»ç»Ÿè¿›è¡Œæ¢³ç†ï¼Œçœ‹çœ‹ç³»ç»Ÿæ˜¯ä¸æ˜¯å¯ä»¥ä¸¢å’ä¿å¸…ï¼›ä»è€Œæ¢³ç†å‡ºå“ªäº›å¿…é¡»èª“æ­»ä¿æŠ¤ï¼Œå“ªäº›å¯é™çº§ï¼›æ¯”å¦‚å¯ä»¥å‚è€ƒæ—¥å¿—çº§åˆ«è®¾ç½®é¢„æ¡ˆï¼š</p><ul><li>ä¸€èˆ¬ï¼šæ¯”å¦‚æœ‰äº›æœåŠ¡å¶å°”å› ä¸ºç½‘ç»œæŠ–åŠ¨æˆ–è€…æœåŠ¡æ­£åœ¨ä¸Šçº¿è€Œè¶…æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨é™çº§ï¼›</li><li>è­¦å‘Šï¼šæœ‰äº›æœåŠ¡åœ¨ä¸€æ®µæ—¶é—´å†…æˆåŠŸç‡æœ‰æ³¢åŠ¨ï¼ˆå¦‚åœ¨95~100%ä¹‹é—´ï¼‰ï¼Œå¯ä»¥è‡ªåŠ¨é™çº§æˆ–äººå·¥é™çº§ï¼Œå¹¶å‘é€å‘Šè­¦ï¼›</li><li>é”™è¯¯ï¼šæ¯”å¦‚å¯ç”¨ç‡ä½äº90%ï¼Œæˆ–è€…æ•°æ®åº“è¿æ¥æ± è¢«æ‰“çˆ†äº†ï¼Œæˆ–è€…è®¿é—®é‡çªç„¶çŒ›å¢åˆ°ç³»ç»Ÿèƒ½æ‰¿å—çš„æœ€å¤§é˜€å€¼ï¼Œæ­¤æ—¶å¯ä»¥æ ¹æ®æƒ…å†µè‡ªåŠ¨é™çº§æˆ–è€…äººå·¥é™çº§ï¼›</li><li>ä¸¥é‡é”™è¯¯ï¼šæ¯”å¦‚å› ä¸ºç‰¹æ®ŠåŸå› æ•°æ®é”™è¯¯äº†ï¼Œæ­¤æ—¶éœ€è¦ç´§æ€¥äººå·¥é™çº§ã€‚</li></ul><h3 id="_3-4-æœåŠ¡é™çº§åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_3-4-æœåŠ¡é™çº§åˆ†ç±»" aria-hidden="true">#</a> 3.4 æœåŠ¡é™çº§åˆ†ç±»</h3><ul><li>é™çº§æŒ‰ç…§æ˜¯å¦è‡ªåŠ¨åŒ–å¯åˆ†ä¸ºï¼šè‡ªåŠ¨å¼€å…³é™çº§ï¼ˆè¶…æ—¶ã€å¤±è´¥æ¬¡æ•°ã€æ•…éšœã€é™æµï¼‰å’Œäººå·¥å¼€å…³é™çº§ï¼ˆç§’æ€ã€ç”µå•†å¤§ä¿ƒç­‰ï¼‰ã€‚</li><li>é™çº§æŒ‰ç…§åŠŸèƒ½å¯åˆ†ä¸ºï¼šè¯»æœåŠ¡é™çº§ã€å†™æœåŠ¡é™çº§ã€‚</li><li>é™çº§æŒ‰ç…§å¤„äºçš„ç³»ç»Ÿå±‚æ¬¡å¯åˆ†ä¸ºï¼šå¤šçº§é™çº§ã€‚</li></ul><h3 id="_3-5-è‡ªåŠ¨é™çº§åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_3-5-è‡ªåŠ¨é™çº§åˆ†ç±»" aria-hidden="true">#</a> 3.5 è‡ªåŠ¨é™çº§åˆ†ç±»</h3><ul><li>è¶…æ—¶é™çº§ï¼šä¸»è¦é…ç½®å¥½è¶…æ—¶æ—¶é—´å’Œè¶…æ—¶é‡è¯•æ¬¡æ•°å’Œæœºåˆ¶ï¼Œå¹¶ä½¿ç”¨å¼‚æ­¥æœºåˆ¶æ¢æµ‹å›å¤æƒ…å†µ</li><li>å¤±è´¥æ¬¡æ•°é™çº§ï¼šä¸»è¦æ˜¯ä¸€äº›ä¸ç¨³å®šçš„apiï¼Œå½“å¤±è´¥è°ƒç”¨æ¬¡æ•°è¾¾åˆ°ä¸€å®šé˜€å€¼è‡ªåŠ¨é™çº§ï¼ŒåŒæ ·è¦ä½¿ç”¨å¼‚æ­¥æœºåˆ¶æ¢æµ‹å›å¤æƒ…å†µ</li><li>æ•…éšœé™çº§ï¼šæ¯”å¦‚è¦è°ƒç”¨çš„è¿œç¨‹æœåŠ¡æŒ‚æ‰äº†ï¼ˆç½‘ç»œæ•…éšœã€DNSæ•…éšœã€httpæœåŠ¡è¿”å›é”™è¯¯çš„çŠ¶æ€ç ã€rpcæœåŠ¡æŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™å¯ä»¥ç›´æ¥é™çº§ã€‚é™çº§åçš„å¤„ç†æ–¹æ¡ˆæœ‰ï¼šé»˜è®¤å€¼ï¼ˆæ¯”å¦‚åº“å­˜æœåŠ¡æŒ‚äº†ï¼Œè¿”å›é»˜è®¤ç°è´§ï¼‰ã€å…œåº•æ•°æ®ï¼ˆæ¯”å¦‚å¹¿å‘ŠæŒ‚äº†ï¼Œè¿”å›æå‰å‡†å¤‡å¥½çš„ä¸€äº›é™æ€é¡µé¢ï¼‰ã€ç¼“å­˜ï¼ˆä¹‹å‰æš‚å­˜çš„ä¸€äº›ç¼“å­˜æ•°æ®ï¼‰</li><li>é™æµé™çº§: å½“æˆ‘ä»¬å»ç§’æ€æˆ–è€…æŠ¢è´­ä¸€äº›é™è´­å•†å“æ—¶ï¼Œæ­¤æ—¶å¯èƒ½ä¼šå› ä¸ºè®¿é—®é‡å¤ªå¤§è€Œå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Œæ­¤æ—¶å¼€å‘è€…ä¼šä½¿ç”¨é™æµæ¥è¿›è¡Œé™åˆ¶è®¿é—®é‡ï¼Œå½“è¾¾åˆ°é™æµé˜€å€¼ï¼Œåç»­è¯·æ±‚ä¼šè¢«é™çº§ï¼›é™çº§åçš„å¤„ç†æ–¹æ¡ˆå¯ä»¥æ˜¯ï¼šæ’é˜Ÿé¡µé¢ï¼ˆå°†ç”¨æˆ·å¯¼æµåˆ°æ’é˜Ÿé¡µé¢ç­‰ä¸€ä¼šé‡è¯•ï¼‰ã€æ— è´§ï¼ˆç›´æ¥å‘ŠçŸ¥ç”¨æˆ·æ²¡è´§äº†ï¼‰ã€é”™è¯¯é¡µï¼ˆå¦‚æ´»åŠ¨å¤ªç«çˆ†äº†ï¼Œç¨åé‡è¯•ï¼‰</li></ul><h3 id="_3-6-æœåŠ¡é™çº§éœ€è€ƒè™‘çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_3-6-æœåŠ¡é™çº§éœ€è€ƒè™‘çš„é—®é¢˜" aria-hidden="true">#</a> 3.6 æœåŠ¡é™çº§éœ€è€ƒè™‘çš„é—®é¢˜</h3><ul><li>æ ¸å¿ƒæœåŠ¡æˆ–éæ ¸å¿ƒæœåŠ¡ã€‚</li><li>æ˜¯å¦æ”¯æŒé™çº§ï¼ŒåŠå…¶é™çº§ç­–ç•¥ã€‚</li><li>ä¸šåŠ¡æ”¾é€šåœºæ™¯ï¼ŒåŠå…¶ç­–ç•¥ã€‚</li></ul><h2 id="_4-æœåŠ¡ç†”æ–­" tabindex="-1"><a class="header-anchor" href="#_4-æœåŠ¡ç†”æ–­" aria-hidden="true">#</a> 4. æœåŠ¡ç†”æ–­</h2><h3 id="_4-1-ç›¸å…³æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_4-1-ç›¸å…³æ¦‚å¿µ" aria-hidden="true">#</a> 4.1 ç›¸å…³æ¦‚å¿µ</h3><ul><li><p>æœåŠ¡é›ªå´©</p><p>å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´è°ƒç”¨çš„æ—¶å€™ï¼Œå‡è®¾å¾®æœåŠ¡Aè°ƒç”¨å¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cï¼Œå¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cåˆè°ƒç”¨å…¶ä»–çš„å¾®æœåŠ¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€æ‰‡å‡ºâ€ï¼Œå¦‚æ‰‡å‡ºçš„é“¾è·¯ä¸ŠæŸä¸ªå¾®æœåŠ¡çš„è°ƒç”¨å“åº”å¼è¿‡é•¿æˆ–è€…ä¸å¯ç”¨ï¼Œå¯¹å¾®æœåŠ¡Açš„è°ƒç”¨å°±ä¼šå ç”¨è¶Šæ¥è¶Šå¤šçš„ç³»ç»Ÿèµ„æºï¼Œè¿›è€Œå¼•èµ·ç³»ç»Ÿé›ªå´©ï¼Œæ‰€è°“çš„â€é›ªå´©æ•ˆåº”â€</p></li><li><p>æ–­è·¯å™¨ï¼š</p><p>â€œæ–­è·¯å™¨â€æœ¬èº«æ˜¯ä¸€ç§å¼€å…³è£…ç½®ï¼Œå½“æŸä¸ªæœåŠ¡å•å…ƒå‘ç”Ÿæ•…éšœç›‘æ§(ç±»ä¼¼ç†”æ–­ä¿é™©ä¸)ï¼Œå‘è°ƒç”¨æ–¹æ³•è¿”å›ä¸€ä¸ªç¬¦åˆé¢„æœŸçš„ã€å¯å¤„ç†çš„å¤‡é€‰å“åº”(FallBack)ï¼Œè€Œä¸æ˜¯é•¿æ—¶é—´çš„ç­‰å¾…æˆ–è€…æŠ›å‡ºè°ƒç”¨æ–¹æ³•æ— æ³•å¤„ç†çš„å¼‚å¸¸ï¼Œè¿™æ ·å°±ä¿è¯äº†æœåŠ¡è°ƒç”¨æ–¹çš„çº¿ç¨‹ä¸ä¼šè¢«é•¿æ—¶é—´ã€ä¸å¿…è¦åœ°å ç”¨ï¼Œä»è€Œé¿å…äº†æ•…éšœåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è”“å»¶ã€‚ä¹ƒè‡³é›ªå´©ã€‚</p></li><li><p>æœåŠ¡ç†”æ–­ï¼š</p><p>ç†”æ–­æœºåˆ¶æ˜¯åº”å¯¹é›ªå´©æ•ˆåº”çš„ä¸€ç§å¾®æœåŠ¡é“¾è·¯ä¿æŠ¤æœºåˆ¶ï¼Œ</p><p>å½“æ‰‡å‡ºé“¾è·¯çš„æŸä¸ªå¾®æœåŠ¡ä¸å¯ç”¨æˆ–è€…å“åº”æ—¶é—´å¤ªé•¿æ—¶ï¼Œä¼šè¿›è¡ŒæœåŠ¡çš„é™çº§ï¼Œè¿›è€Œç†”æ–­è¯¥èŠ‚ç‚¹å¾®æœåŠ¡çš„è°ƒç”¨ï¼Œå¿«é€Ÿè¿”å›â€é”™è¯¯â€çš„å“åº”ä¿¡æ¯ã€‚</p></li><li><p>Hystrixï¼š</p><p>Hystrixæ˜¯ä¸€ä¸ªç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿçš„å»¶è¿Ÿå’Œå®¹é”™çš„å¼€æºåº“ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œï¼Œè®¸å¤šä¾èµ–ä¸å¯é¿å…çš„è°ƒç”¨å¤±è´¥ï¼Œæ¯”å¦‚è¶…æ—¶ã€å¼‚å¸¸ç­‰ï¼ŒHystrixèƒ½å¤Ÿä¿è¯åœ¨ä¸€ä¸ªä¾èµ–å‡ºé—®é¢˜çš„æƒ…å†µä¸‹ï¼Œä¸ä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡å¤±è´¥ï¼Œé¿å…çº§è”æ•…éšœï¼Œä»¥æé«˜åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼¹æ€§ã€‚</p></li></ul><h3 id="_4-2-ç†”æ–­æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_4-2-ç†”æ–­æµç¨‹" aria-hidden="true">#</a> 4.2 ç†”æ–­æµç¨‹</h3><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220702212047259.png" alt="image-20220702212047259"><p>ä¸Šå›¾æ˜¯æ–­è·¯å™¨ï¼ˆCurcuit Breakerï¼‰çš„ç»“æ„ï¼Œå®ƒæœ‰<strong>ä¸¤ä¸ªåŸºæœ¬çŠ¶æ€ï¼ˆcloseå’Œopenï¼‰å’Œä¸€ä¸ªåŸºæœ¬tripåŠ¨ä½œ</strong>ï¼š</p><ol><li><p>closeçŠ¶æ€ä¸‹ï¼Œclientå‘ supplierå‘èµ·çš„æœåŠ¡è¯·æ±‚ï¼Œç›´æ¥æ— é˜»ç¢é€šè¿‡æ–­è·¯å™¨ï¼Œ supplierçš„è¿”å›å€¼æ¥ç›´æ¥ç”±æ–­è·¯å™¨äº¤å›ç»™clientã€‚</p></li><li><p>opençŠ¶æ€ä¸‹ï¼Œclient å‘ supplier å‘èµ·çš„æœåŠ¡è¯·æ±‚åï¼Œæ–­è·¯å™¨ä¸ä¼šå°†è¯·æ±‚è½¬åˆ°supplier, è€Œæ˜¯ç›´æ¥è¿”å› client, clientå’Œ supplier ä¹‹é—´çš„é€šè·¯æ˜¯æ–­çš„ã€‚</p></li><li><p>trip: åœ¨closeçŠ¶æ€ä¸‹ï¼Œå¦‚æœsupplieræŒç»­è¶…æ—¶æŠ¥é”™ï¼Œè¾¾åˆ°è§„å®šçš„é˜€å€¼åï¼Œæ–­è·¯å™¨å°±å‘ç”Ÿtrip, ä¹‹åæ–­è·¯å™¨çŠ¶æ€å°±ä¼šä»closeè¿›å…¥openã€‚</p></li></ol><h4 id="_4-2-1-æ‰©å±•æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_4-2-1-æ‰©å±•æ¨¡å¼" aria-hidden="true">#</a> <strong>4.2.1 æ‰©å±•æ¨¡å¼</strong></h4><p>åŸºæœ¬çš„æ–­è·¯å™¨æ¨¡å¼ä¸‹ï¼Œä¿è¯äº†æ–­è·¯å™¨åœ¨opençŠ¶æ€æ—¶ï¼Œä¿æŠ¤supplierä¸ä¼šè¢«è°ƒç”¨ï¼Œä½†æˆ‘ä»¬è¿˜<strong>éœ€è¦é¢å¤–çš„æªæ–½å¯ä»¥åœ¨supplieræ¢å¤æœåŠ¡åï¼Œå¯ä»¥é‡ç½®æ–­è·¯å™¨</strong>ã€‚ä¸€ç§å¯è¡Œçš„åŠæ³•æ˜¯æ–­è·¯å™¨å®šæœŸæ¢æµ‹supplierçš„æœåŠ¡æ˜¯å¦æ¢å¤ï¼Œä¸€ä½†æ¢å¤ï¼Œå°±å°†çŠ¶æ€è®¾ç½®æˆcloseã€‚<strong>æ–­è·¯å™¨è¿›è¡Œé‡è¯•æ—¶çš„çŠ¶æ€ä¸ºåŠå¼€ï¼ˆhalf-openï¼‰çŠ¶æ€</strong>ã€‚</p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220702212438910.png" alt="image-20220702212438910"><h3 id="_4-3-æœåŠ¡ç†”æ–­ä¸æœåŠ¡é™çº§æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#_4-3-æœåŠ¡ç†”æ–­ä¸æœåŠ¡é™çº§æ¯”è¾ƒ" aria-hidden="true">#</a> 4.3 æœåŠ¡ç†”æ–­ä¸æœåŠ¡é™çº§æ¯”è¾ƒ</h3><p>æœåŠ¡ç†”æ–­å¯¹æœåŠ¡æä¾›äº†proxyï¼Œé˜²æ­¢æœåŠ¡ä¸å¯èƒ½æ—¶ï¼Œå‡ºç°ä¸²è”æ•…éšœï¼ˆcascading failureï¼‰ï¼Œå¯¼è‡´é›ªå´©æ•ˆåº”ã€‚</p><p>æœåŠ¡ç†”æ–­ä¸€èˆ¬æ˜¯æŸä¸ªæœåŠ¡ï¼ˆä¸‹æ¸¸æœåŠ¡ï¼‰æ•…éšœå¼•èµ·ï¼Œè€ŒæœåŠ¡é™çº§ä¸€èˆ¬æ˜¯ä»æ•´ä½“è´Ÿè·è€ƒè™‘ã€‚</p><ul><li>å…±æ€§ï¼š <ul><li>ç›®çš„ -&gt; éƒ½æ˜¯ä»å¯ç”¨æ€§ã€å¯é æ€§å‡ºå‘ï¼Œæé«˜ç³»ç»Ÿçš„å®¹é”™èƒ½åŠ›ã€‚</li><li>æœ€ç»ˆè¡¨ç°-&gt;ä½¿æŸä¸€äº›åº”ç”¨ä¸å¯è¾¾æˆ–ä¸å¯ç”¨ï¼Œæ¥ä¿è¯æ•´ä½“ç³»ç»Ÿç¨³å®šã€‚</li><li>ç²’åº¦ -&gt; ä¸€èˆ¬éƒ½æ˜¯æœåŠ¡çº§åˆ«ï¼Œä½†ä¹Ÿæœ‰ç»†ç²’åº¦çš„å±‚é¢ï¼šå¦‚åšåˆ°æ•°æ®æŒä¹…å±‚ã€åªè®¸æŸ¥è¯¢ä¸è®¸å¢åˆ æ”¹ç­‰ã€‚</li><li>è‡ªæ²» -&gt; å¯¹å…¶è‡ªæ²»æ€§è¦æ±‚å¾ˆé«˜ã€‚éƒ½è¦æ±‚å…·æœ‰è¾ƒé«˜çš„è‡ªåŠ¨å¤„ç†æœºåˆ¶ã€‚</li></ul></li><li>åŒºåˆ«ï¼š <ul><li>è§¦å‘åŸå›  -&gt; æœåŠ¡ç†”æ–­é€šå¸¸æ˜¯ä¸‹çº§æœåŠ¡æ•…éšœå¼•èµ·ï¼›æœåŠ¡é™çº§é€šå¸¸ä¸ºæ•´ä½“ç³»ç»Ÿè€Œè€ƒè™‘ã€‚</li><li>ç®¡ç†ç›®æ ‡ -&gt; ç†”æ–­æ˜¯æ¯ä¸ªå¾®æœåŠ¡éƒ½éœ€è¦çš„ï¼Œæ˜¯ä¸€ä¸ªæ¡†æ¶çº§çš„å¤„ç†ï¼›è€ŒæœåŠ¡é™çº§ä¸€èˆ¬æ˜¯å…³æ³¨ä¸šåŠ¡ï¼Œå¯¹ä¸šåŠ¡è¿›è¡Œè€ƒè™‘ï¼ŒæŠ“ä½ä¸šåŠ¡çš„å±‚çº§ï¼Œä»è€Œå†³å®šåœ¨å“ªä¸€å±‚ä¸Šè¿›è¡Œå¤„ç†ï¼šæ¯”å¦‚åœ¨IOå±‚ï¼Œä¸šåŠ¡é€»è¾‘å±‚ï¼Œè¿˜æ˜¯åœ¨å¤–å›´è¿›è¡Œå¤„ç†ã€‚</li><li>å®ç°æ–¹å¼ -&gt; ä»£ç å®ç°ä¸­çš„å·®å¼‚ã€‚</li></ul></li></ul><h3 id="_4-4-æœåŠ¡ç†”æ–­ä¸­éœ€è€ƒè™‘çš„è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#_4-4-æœåŠ¡ç†”æ–­ä¸­éœ€è€ƒè™‘çš„è®¾è®¡" aria-hidden="true">#</a> 4.4 æœåŠ¡ç†”æ–­ä¸­éœ€è€ƒè™‘çš„è®¾è®¡</h3><p>æºè‡ªåšä¸»å¼ å–„å‹çš„è§‚ç‚¹ï¼š</p><ul><li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šè°ƒç”¨å—ç†”æ–­å™¨ä¿æŠ¤çš„æœåŠ¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»è¦å¤„ç†å½“æœåŠ¡ä¸å¯ç”¨æ—¶çš„å¼‚å¸¸æƒ…å†µã€‚è¿™äº›å¼‚å¸¸å¤„ç†é€šå¸¸éœ€è¦è§†å…·ä½“çš„ä¸šåŠ¡æƒ…å†µè€Œå®šã€‚æ¯”å¦‚ï¼Œå¦‚æœåº”ç”¨ç¨‹åºåªæ˜¯æš‚æ—¶çš„åŠŸèƒ½é™çº§ï¼Œå¯èƒ½éœ€è¦åˆ‡æ¢åˆ°å…¶å®ƒçš„å¯æ›¿æ¢çš„æœåŠ¡ä¸Šæ¥æ‰§è¡Œç›¸åŒçš„ä»»åŠ¡æˆ–è€…è·å–ç›¸åŒçš„æ•°æ®ï¼Œæˆ–è€…ç»™ç”¨æˆ·æŠ¥å‘Šé”™è¯¯ç„¶åæç¤ºä»–ä»¬ç¨åé‡è¯•ã€‚</li><li><strong>å¼‚å¸¸çš„ç±»å‹</strong>ï¼šè¯·æ±‚å¤±è´¥çš„åŸå› å¯èƒ½æœ‰å¾ˆå¤šç§ã€‚ä¸€äº›åŸå› å¯èƒ½ä¼šæ¯”å…¶å®ƒåŸå› æ›´ä¸¥é‡ã€‚æ¯”å¦‚ï¼Œè¯·æ±‚ä¼šå¤±è´¥å¯èƒ½æ˜¯ç”±äºè¿œç¨‹çš„æœåŠ¡å´©æºƒï¼Œè¿™å¯èƒ½éœ€è¦èŠ±è´¹æ•°åˆ†é’Ÿæ¥æ¢å¤ï¼›ä¹Ÿå¯èƒ½æ˜¯ç”±äºæœåŠ¡å™¨æš‚æ—¶è´Ÿè½½è¿‡é‡å¯¼è‡´è¶…æ—¶ã€‚ç†”æ–­å™¨åº”è¯¥èƒ½å¤Ÿæ£€æŸ¥é”™è¯¯çš„ç±»å‹ï¼Œä»è€Œæ ¹æ®å…·ä½“çš„é”™è¯¯æƒ…å†µæ¥è°ƒæ•´ç­–ç•¥ã€‚æ¯”å¦‚ï¼Œå¯èƒ½éœ€è¦å¾ˆå¤šæ¬¡è¶…æ—¶å¼‚å¸¸æ‰å¯ä»¥æ–­å®šéœ€è¦åˆ‡æ¢åˆ°æ–­å¼€çŠ¶æ€ï¼Œè€Œåªéœ€è¦å‡ æ¬¡é”™è¯¯æç¤ºå°±å¯ä»¥åˆ¤æ–­æœåŠ¡ä¸å¯ç”¨è€Œå¿«é€Ÿåˆ‡æ¢åˆ°æ–­å¼€çŠ¶æ€ã€‚</li><li><strong>æ—¥å¿—</strong>ï¼šç†”æ–­å™¨åº”è¯¥èƒ½å¤Ÿè®°å½•æ‰€æœ‰å¤±è´¥çš„è¯·æ±‚ï¼Œä»¥åŠä¸€äº›å¯èƒ½ä¼šå°è¯•æˆåŠŸçš„è¯·æ±‚ï¼Œä½¿å¾—çš„ç®¡ç†å‘˜èƒ½å¤Ÿç›‘æ§ä½¿ç”¨ç†”æ–­å™¨ä¿æŠ¤çš„æœåŠ¡çš„æ‰§è¡Œæƒ…å†µã€‚ æµ‹è¯•æœåŠ¡æ˜¯å¦å¯ç”¨ï¼šåœ¨æ–­å¼€çŠ¶æ€ä¸‹ï¼Œç†”æ–­å™¨å¯ä»¥é‡‡ç”¨å®šæœŸçš„pingè¿œç¨‹çš„æœåŠ¡æˆ–è€…èµ„æºï¼Œæ¥åˆ¤æ–­æ˜¯å¦æœåŠ¡æ˜¯å¦æ¢å¤ï¼Œè€Œä¸æ˜¯ä½¿ç”¨è®¡æ—¶å™¨æ¥è‡ªåŠ¨åˆ‡æ¢åˆ°åŠæ–­å¼€çŠ¶æ€ã€‚è¿™ç§pingæ“ä½œå¯ä»¥æ¨¡æ‹Ÿä¹‹å‰é‚£äº›å¤±è´¥çš„è¯·æ±‚ï¼Œæˆ–è€…å¯ä»¥ä½¿ç”¨é€šè¿‡è°ƒç”¨è¿œç¨‹æœåŠ¡æä¾›çš„æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯ç”¨çš„æ–¹æ³•æ¥åˆ¤æ–­ã€‚</li><li><strong>æ‰‹åŠ¨é‡ç½®</strong>ï¼šåœ¨ç³»ç»Ÿä¸­å¯¹äºå¤±è´¥æ“ä½œçš„æ¢å¤æ—¶é—´æ˜¯å¾ˆéš¾ç¡®å®šçš„ï¼Œæä¾›ä¸€ä¸ªæ‰‹åŠ¨é‡ç½®åŠŸèƒ½èƒ½å¤Ÿä½¿å¾—ç®¡ç†å‘˜å¯ä»¥æ‰‹åŠ¨çš„å¼ºåˆ¶å°†ç†”æ–­å™¨åˆ‡æ¢åˆ°é—­åˆçŠ¶æ€ã€‚åŒæ ·çš„ï¼Œå¦‚æœå—ç†”æ–­å™¨ä¿æŠ¤çš„æœåŠ¡æš‚æ—¶ä¸å¯ç”¨çš„è¯ï¼Œç®¡ç†å‘˜èƒ½å¤Ÿå¼ºåˆ¶çš„å°†ç†”æ–­å™¨è®¾ç½®ä¸ºæ–­å¼€çŠ¶æ€ã€‚ å¹¶å‘é—®é¢˜ï¼šç›¸åŒçš„ç†”æ–­å™¨æœ‰å¯èƒ½è¢«å¤§é‡å¹¶å‘è¯·æ±‚åŒæ—¶è®¿é—®ã€‚ç†”æ–­å™¨çš„å®ç°ä¸åº”è¯¥é˜»å¡å¹¶å‘çš„è¯·æ±‚æˆ–è€…å¢åŠ æ¯æ¬¡è¯·æ±‚è°ƒç”¨çš„è´Ÿæ‹…ã€‚ èµ„æºçš„å·®å¼‚æ€§ï¼šä½¿ç”¨å•ä¸ªç†”æ–­å™¨æ—¶ï¼Œä¸€ä¸ªèµ„æºå¦‚æœæœ‰åˆ†å¸ƒåœ¨å¤šä¸ªåœ°æ–¹å°±éœ€è¦å°å¿ƒã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªæ•°æ®å¯èƒ½å­˜å‚¨åœ¨å¤šä¸ªç£ç›˜åˆ†åŒºä¸Š(shard)ï¼ŒæŸä¸ªåˆ†åŒºå¯ä»¥æ­£å¸¸è®¿é—®ï¼Œè€Œå¦ä¸€ä¸ªå¯èƒ½å­˜åœ¨æš‚æ—¶æ€§çš„é—®é¢˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸åŒçš„é”™è¯¯å“åº”å¦‚æœæ··ä¸ºä¸€è°ˆï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºè®¿é—®çš„è¿™äº›å­˜åœ¨é—®é¢˜çš„åˆ†åŒºçš„å¤±è´¥çš„å¯èƒ½æ€§å°±ä¼šé«˜ï¼Œè€Œé‚£äº›è¢«è®¤ä¸ºæ˜¯æ­£å¸¸çš„åˆ†åŒºï¼Œå°±æœ‰å¯èƒ½è¢«é˜»å¡ã€‚</li><li><strong>åŠ å¿«ç†”æ–­å™¨çš„ç†”æ–­æ“ä½œ</strong>:æœ‰æ—¶å€™ï¼ŒæœåŠ¡è¿”å›çš„é”™è¯¯ä¿¡æ¯è¶³å¤Ÿè®©ç†”æ–­å™¨ç«‹å³æ‰§è¡Œç†”æ–­æ“ä½œå¹¶ä¸”ä¿æŒä¸€æ®µæ—¶é—´ã€‚æ¯”å¦‚ï¼Œå¦‚æœä»ä¸€ä¸ªåˆ†å¸ƒå¼èµ„æºè¿”å›çš„å“åº”æç¤ºè´Ÿè½½è¶…é‡ï¼Œé‚£ä¹ˆåº”è¯¥ç­‰å¾…å‡ åˆ†é’Ÿåå†é‡è¯•ã€‚ï¼ˆHTTPåè®®å®šä¹‰äº†â€HTTP 503 Service Unavailableâ€æ¥è¡¨ç¤ºè¯·æ±‚çš„æœåŠ¡å½“å‰ä¸å¯ç”¨ï¼Œä»–å¯ä»¥åŒ…å«å…¶ä»–ä¿¡æ¯æ¯”å¦‚ï¼Œè¶…æ—¶ç­‰ï¼‰</li><li><strong>é‡å¤å¤±è´¥è¯·æ±‚</strong>ï¼šå½“ç†”æ–­å™¨åœ¨æ–­å¼€çŠ¶æ€çš„æ—¶å€™ï¼Œç†”æ–­å™¨å¯ä»¥è®°å½•æ¯ä¸€æ¬¡è¯·æ±‚çš„ç»†èŠ‚ï¼Œè€Œä¸æ˜¯ä»…ä»…è¿”å›å¤±è´¥ä¿¡æ¯ï¼Œè¿™æ ·å½“è¿œç¨‹æœåŠ¡æ¢å¤çš„æ—¶å€™ï¼Œå¯ä»¥å°†è¿™äº›å¤±è´¥çš„è¯·æ±‚å†é‡æ–°è¯·æ±‚ä¸€æ¬¡ã€‚</li></ul><h3 id="_4-5-æœåŠ¡ç†”æ–­æ¢å¤éœ€æ³¨æ„çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4-5-æœåŠ¡ç†”æ–­æ¢å¤éœ€æ³¨æ„çš„é—®é¢˜" aria-hidden="true">#</a> 4.5 æœåŠ¡ç†”æ–­æ¢å¤éœ€æ³¨æ„çš„é—®é¢˜</h3><p>å¦‚æœæœåŠ¡æ˜¯å¹‚ç­‰æ€§çš„ï¼Œåˆ™æ¢å¤é‡è¯•ä¸ä¼šæœ‰é—®é¢˜ï¼›è€Œå¦‚æœæœåŠ¡æ˜¯éå¹‚ç­‰æ€§çš„ï¼Œåˆ™é‡è¯•ä¼šå¯¼è‡´æ•°æ®å‡ºç°é—®é¢˜ã€‚</p><h2 id="_5-æ–¹æ¡ˆ-hystrixç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_5-æ–¹æ¡ˆ-hystrixç®€ä»‹" aria-hidden="true">#</a> 5. æ–¹æ¡ˆï¼šHystrixç®€ä»‹</h2><p>Spring Cloud Netflix Hystrixå°±æ˜¯éš”ç¦»æªæ–½çš„ä¸€ç§å®ç°,å¯ä»¥è®¾ç½®åœ¨æŸç§è¶…æ—¶æˆ–è€…å¤±è´¥æƒ…å½¢ä¸‹æ–­å¼€ä¾èµ–è°ƒç”¨æˆ–è€…è¿”å›æŒ‡å®šé€»è¾‘,ä»è€Œæé«˜åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç¨³å®šæ€§.</p><h3 id="_5-1-hystrixè®¾è®¡åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#_5-1-hystrixè®¾è®¡åŸåˆ™" aria-hidden="true">#</a> 5.1 Hystrixè®¾è®¡åŸåˆ™</h3><ul><li>é˜²æ­¢å•ä¸ªæœåŠ¡çš„æ•…éšœï¼Œè€—å°½æ•´ä¸ªç³»ç»ŸæœåŠ¡çš„å®¹å™¨ï¼ˆæ¯”å¦‚tomcatï¼‰çš„çº¿ç¨‹èµ„æºï¼Œé¿å…åˆ†å¸ƒå¼ç¯å¢ƒé‡Œå¤§é‡çº§è”å¤±è´¥ã€‚é€šè¿‡ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯è®¿é—®ï¼ˆé€šå¸¸æ˜¯é€šè¿‡ç½‘ç»œï¼‰ä¾èµ–æœåŠ¡å‡ºç°å¤±è´¥ã€æ‹’ç»ã€è¶…æ—¶æˆ–çŸ­è·¯æ—¶æ‰§è¡Œå›é€€é€»è¾‘</li><li>ç”¨å¿«é€Ÿå¤±è´¥ä»£æ›¿æ’é˜Ÿ(æ¯ä¸ªä¾èµ–æœåŠ¡ç»´æŠ¤ä¸€ä¸ªå°çš„çº¿ç¨‹æ± æˆ–ä¿¡å·é‡ï¼Œå½“çº¿ç¨‹æ± æ»¡æˆ–ä¿¡å·é‡æ»¡ï¼Œä¼šç«‹å³æ‹’ç»æœåŠ¡è€Œä¸ä¼šæ’é˜Ÿç­‰å¾…)å’Œä¼˜é›…çš„æœåŠ¡é™çº§ï¼›å½“ä¾èµ–æœåŠ¡å¤±æ•ˆååˆæ¢å¤æ­£å¸¸ï¼Œå¿«é€Ÿæ¢å¤</li><li>æä¾›æ¥è¿‘å®æ—¶çš„ç›‘æ§å’Œè­¦æŠ¥ï¼Œä»è€Œèƒ½å¤Ÿå¿«é€Ÿå‘ç°æ•…éšœå’Œä¿®å¤ã€‚ç›‘æ§ä¿¡æ¯åŒ…æ‹¬è¯·æ±‚æˆåŠŸï¼Œå¤±è´¥ï¼ˆå®¢æˆ·ç«¯æŠ›å‡ºçš„å¼‚å¸¸ï¼‰ï¼Œè¶…æ—¶å’Œçº¿ç¨‹æ‹’ç»ã€‚å¦‚æœè®¿é—®ä¾èµ–æœåŠ¡çš„é”™è¯¯ç™¾åˆ†æ¯”è¶…è¿‡é˜ˆå€¼,æ–­è·¯å™¨ä¼šè·³é—¸ï¼Œæ­¤æ—¶æœåŠ¡ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…åœæ­¢å¯¹ç‰¹å®šæœåŠ¡çš„æ‰€æœ‰è¯·æ±‚</li><li>å°†æ‰€æœ‰è¯·æ±‚å¤–éƒ¨ç³»ç»Ÿï¼ˆæˆ–è¯·æ±‚ä¾èµ–æœåŠ¡ï¼‰å°è£…åˆ°HystrixCommandæˆ–HystrixObservableCommandå¯¹è±¡ä¸­ï¼Œç„¶åè¿™äº›è¯·æ±‚åœ¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ä½¿ç”¨éš”ç¦»æŠ€æœ¯æ¥é™åˆ¶ä»»ä½•ä¸€ä¸ªä¾èµ–çš„å¤±è´¥å¯¹ç³»ç»Ÿçš„å½±å“ã€‚æ¯ä¸ªä¾èµ–æœåŠ¡ç»´æŠ¤ä¸€ä¸ªå°çš„çº¿ç¨‹æ± ï¼ˆæˆ–ä¿¡å·é‡ï¼‰ï¼Œå½“çº¿ç¨‹æ± æ»¡æˆ–ä¿¡å·é‡æ»¡ï¼Œä¼šç«‹å³æ‹’ç»æœåŠ¡è€Œä¸ä¼šæ’é˜Ÿç­‰å¾…</li></ul><h3 id="_5-2-hystrixç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#_5-2-hystrixç‰¹æ€§" aria-hidden="true">#</a> 5.2 Hystrixç‰¹æ€§</h3><ul><li>è¯·æ±‚ç†”æ–­ï¼š å½“Hystrix Commandè¯·æ±‚åç«¯æœåŠ¡å¤±è´¥æ•°é‡è¶…è¿‡ä¸€å®šæ¯”ä¾‹(é»˜è®¤50%), æ–­è·¯å™¨ä¼šåˆ‡æ¢åˆ°å¼€è·¯çŠ¶æ€(Open). è¿™æ—¶æ‰€æœ‰è¯·æ±‚ä¼šç›´æ¥å¤±è´¥è€Œä¸ä¼šå‘é€åˆ°åç«¯æœåŠ¡. æ–­è·¯å™¨ä¿æŒåœ¨å¼€è·¯çŠ¶æ€ä¸€æ®µæ—¶é—´å(é»˜è®¤5ç§’), è‡ªåŠ¨åˆ‡æ¢åˆ°åŠå¼€è·¯çŠ¶æ€(HALF-OPEN).</li></ul><p>è¿™æ—¶ä¼šåˆ¤æ–­ä¸‹ä¸€æ¬¡è¯·æ±‚çš„è¿”å›æƒ…å†µ, å¦‚æœè¯·æ±‚æˆåŠŸ, æ–­è·¯å™¨åˆ‡å›é—­è·¯çŠ¶æ€(CLOSED), å¦åˆ™é‡æ–°åˆ‡æ¢åˆ°å¼€è·¯çŠ¶æ€(OPEN). Hystrixçš„æ–­è·¯å™¨å°±åƒæˆ‘ä»¬å®¶åº­ç”µè·¯ä¸­çš„ä¿é™©ä¸, ä¸€æ—¦åç«¯æœåŠ¡ä¸å¯ç”¨, æ–­è·¯å™¨ä¼šç›´æ¥åˆ‡æ–­è¯·æ±‚é“¾, é¿å…å‘é€å¤§é‡æ— æ•ˆè¯·æ±‚å½±å“ç³»ç»Ÿååé‡, å¹¶ä¸”æ–­è·¯å™¨æœ‰è‡ªæˆ‘æ£€æµ‹å¹¶æ¢å¤çš„èƒ½åŠ›.</p><ul><li>æœåŠ¡é™çº§ï¼šFallbackç›¸å½“äºæ˜¯é™çº§æ“ä½œ. å¯¹äºæŸ¥è¯¢æ“ä½œ, æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªfallbackæ–¹æ³•, å½“è¯·æ±‚åç«¯æœåŠ¡å‡ºç°å¼‚å¸¸çš„æ—¶å€™, å¯ä»¥ä½¿ç”¨fallbackæ–¹æ³•è¿”å›çš„å€¼. fallbackæ–¹æ³•çš„è¿”å›å€¼ä¸€èˆ¬æ˜¯è®¾ç½®çš„é»˜è®¤å€¼æˆ–è€…æ¥è‡ªç¼“å­˜.å‘ŠçŸ¥åé¢çš„è¯·æ±‚æœåŠ¡ä¸å¯ç”¨äº†ï¼Œä¸è¦å†æ¥äº†ã€‚</li><li>ä¾èµ–éš”ç¦»(é‡‡ç”¨èˆ±å£æ¨¡å¼ï¼ŒDockerå°±æ˜¯èˆ±å£æ¨¡å¼çš„ä¸€ç§)ï¼šåœ¨Hystrixä¸­, ä¸»è¦é€šè¿‡çº¿ç¨‹æ± æ¥å®ç°èµ„æºéš”ç¦». é€šå¸¸åœ¨ä½¿ç”¨çš„æ—¶å€™æˆ‘ä»¬ä¼šæ ¹æ®è°ƒç”¨çš„è¿œç¨‹æœåŠ¡åˆ’åˆ†å‡ºå¤šä¸ªçº¿ç¨‹æ± .æ¯”å¦‚è¯´ï¼Œä¸€ä¸ªæœåŠ¡è°ƒç”¨ä¸¤å¤–ä¸¤ä¸ªæœåŠ¡ï¼Œä½ å¦‚æœè°ƒç”¨ä¸¤ä¸ªæœåŠ¡éƒ½ç”¨ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œé‚£ä¹ˆå¦‚æœä¸€ä¸ªæœåŠ¡å¡åœ¨å“ªé‡Œï¼Œèµ„æºæ²¡è¢«é‡Šæ”¾</li></ul><p>åé¢çš„è¯·æ±‚åˆæ¥äº†ï¼Œå¯¼è‡´åé¢çš„è¯·æ±‚éƒ½å¡åœ¨å“ªé‡Œç­‰å¾…ï¼Œå¯¼è‡´ä½ ä¾èµ–çš„AæœåŠ¡æŠŠä½ å¡åœ¨å“ªé‡Œï¼Œè€—å°½äº†èµ„æºï¼Œä¹Ÿå¯¼è‡´äº†ä½ å¦å¤–ä¸€ä¸ªBæœåŠ¡ä¹Ÿä¸å¯ç”¨äº†ã€‚è¿™æ—¶å¦‚æœä¾èµ–éš”ç¦»ï¼ŒæŸä¸€ä¸ªæœåŠ¡è°ƒç”¨A Bä¸¤ä¸ªæœåŠ¡ï¼Œå¦‚æœè¿™æ—¶æˆ‘æœ‰100ä¸ªçº¿ç¨‹å¯ç”¨ï¼Œæˆ‘ç»™AæœåŠ¡åˆ†é…50ä¸ªï¼Œç»™BæœåŠ¡åˆ†é…50ä¸ªï¼Œè¿™æ ·å°±ç®—AæœåŠ¡æŒ‚äº†ï¼Œæˆ‘çš„BæœåŠ¡ä¾ç„¶å¯ä»¥ç”¨ã€‚</p><ul><li>è¯·æ±‚ç¼“å­˜ï¼šæ¯”å¦‚ä¸€ä¸ªè¯·æ±‚è¿‡æ¥è¯·æ±‚æˆ‘userId=1çš„æ•°æ®ï¼Œä½ åé¢çš„è¯·æ±‚ä¹Ÿè¿‡æ¥è¯·æ±‚åŒæ ·çš„æ•°æ®ï¼Œè¿™æ—¶æˆ‘ä¸ä¼šç»§ç»­èµ°åŸæ¥çš„é‚£æ¡è¯·æ±‚é“¾è·¯äº†ï¼Œè€Œæ˜¯æŠŠç¬¬ä¸€æ¬¡è¯·æ±‚ç¼“å­˜è¿‡äº†ï¼ŒæŠŠç¬¬ä¸€æ¬¡çš„è¯·æ±‚ç»“æœè¿”å›ç»™åé¢çš„è¯·æ±‚ã€‚</li><li>è¯·æ±‚åˆå¹¶ï¼šæˆ‘ä¾èµ–äºæŸä¸€ä¸ªæœåŠ¡ï¼Œæˆ‘è¦è°ƒç”¨Næ¬¡ï¼Œæ¯”å¦‚è¯´æŸ¥æ•°æ®åº“çš„æ—¶å€™ï¼Œæˆ‘å‘äº†Næ¡è¯·æ±‚å‘äº†Næ¡SQLç„¶åæ‹¿åˆ°ä¸€å †ç»“æœï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥æŠŠå¤šä¸ªè¯·æ±‚åˆå¹¶æˆä¸€ä¸ªè¯·æ±‚ï¼Œå‘é€ä¸€ä¸ªæŸ¥è¯¢å¤šæ¡æ•°æ®çš„SQLçš„è¯·æ±‚ï¼Œè¿™æ ·æˆ‘ä»¬åªéœ€æŸ¥è¯¢ä¸€æ¬¡æ•°æ®åº“ï¼Œæå‡äº†æ•ˆç‡ã€‚</li></ul><h3 id="_5-3-hystrixæµç¨‹" tabindex="-1"><a class="header-anchor" href="#_5-3-hystrixæµç¨‹" aria-hidden="true">#</a> 5.3 Hystrixæµç¨‹</h3><p>Hystrixæµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://abelsun-1256449468.cos.ap-beijing.myqcloud.com/image/image-20220701230318380.png" alt="image-20220701230318380"></p><p>Hystrixæµç¨‹è¯´æ˜:</p><ul><li>1:æ¯æ¬¡è°ƒç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„HystrixCommand,æŠŠä¾èµ–è°ƒç”¨å°è£…åœ¨run()æ–¹æ³•ä¸­.</li><li>2:æ‰§è¡Œexecute()/queueåšåŒæ­¥æˆ–å¼‚æ­¥è°ƒç”¨.</li><li>4:åˆ¤æ–­ç†”æ–­å™¨(circuit-breaker)æ˜¯å¦æ‰“å¼€,å¦‚æœæ‰“å¼€è·³åˆ°æ­¥éª¤8,è¿›è¡Œé™çº§ç­–ç•¥,å¦‚æœå…³é—­è¿›å…¥æ­¥éª¤5.</li><li>5:åˆ¤æ–­çº¿ç¨‹æ± /é˜Ÿåˆ—/ä¿¡å·é‡æ˜¯å¦è·‘æ»¡ï¼Œå¦‚æœè·‘æ»¡è¿›å…¥é™çº§æ­¥éª¤8,å¦åˆ™ç»§ç»­åç»­æ­¥éª¤6.</li><li>6:è°ƒç”¨HystrixCommandçš„runæ–¹æ³•.è¿è¡Œä¾èµ–é€»è¾‘</li><li>6a:ä¾èµ–é€»è¾‘è°ƒç”¨è¶…æ—¶,è¿›å…¥æ­¥éª¤8.</li><li>7:åˆ¤æ–­é€»è¾‘æ˜¯å¦è°ƒç”¨æˆåŠŸ</li><li>7a:è¿”å›æˆåŠŸè°ƒç”¨ç»“æœ</li><li>7b:è°ƒç”¨å‡ºé”™ï¼Œè¿›å…¥æ­¥éª¤8.</li><li>8:è®¡ç®—ç†”æ–­å™¨çŠ¶æ€,æ‰€æœ‰çš„è¿è¡ŒçŠ¶æ€(æˆåŠŸ, å¤±è´¥, æ‹’ç»,è¶…æ—¶)ä¸ŠæŠ¥ç»™ç†”æ–­å™¨ï¼Œç”¨äºç»Ÿè®¡ä»è€Œåˆ¤æ–­ç†”æ–­å™¨çŠ¶æ€.</li><li>9:getFallback()é™çº§é€»è¾‘.ä»¥ä¸‹å››ç§æƒ…å†µå°†è§¦å‘getFallbackè°ƒç”¨ï¼š <ul><li>(1):run()æ–¹æ³•æŠ›å‡ºéHystrixBadRequestExceptionå¼‚å¸¸ã€‚</li><li>(2):run()æ–¹æ³•è°ƒç”¨è¶…æ—¶</li><li>(3):ç†”æ–­å™¨å¼€å¯æ‹¦æˆªè°ƒç”¨</li><li>(4):çº¿ç¨‹æ± /é˜Ÿåˆ—/ä¿¡å·é‡æ˜¯å¦è·‘æ»¡</li></ul></li><li>9a:æ²¡æœ‰å®ç°getFallbackçš„Commandå°†ç›´æ¥æŠ›å‡ºå¼‚å¸¸</li><li>9b:fallbacké™çº§é€»è¾‘è°ƒç”¨æˆåŠŸç›´æ¥è¿”å›</li><li>9c:é™çº§é€»è¾‘è°ƒç”¨å¤±è´¥æŠ›å‡ºå¼‚å¸¸</li><li>10:è¿”å›æ‰§è¡ŒæˆåŠŸç»“æœ</li></ul><p>è¿™é‡Œæ¥ç€å‰é¢çš„Ribbonè¿›è¡ŒHystrixé›†æˆã€‚è¯´ç™½äº†ä½ æƒ³å¯¹ä¸€ä¸ªè¯·æ±‚è¿›è¡Œç†”æ–­ï¼Œå¿…ç„¶ä¸èƒ½è®©å®¢æˆ·ç›´æ¥å»è°ƒç”¨é‚£ä¸ªè¯·æ±‚ï¼Œä½ å¿…ç„¶è¦è¦å¯¹åˆ«äººçš„è¯·æ±‚è¿›è¡ŒåŒ…è£…ä¸€å±‚å’Œæ‹¦æˆªï¼Œæ‰èƒ½åšç‚¹æ‰‹è„šï¼Œæ¯”å¦‚è¿›è¡Œç†”æ–­ï¼Œæ‰€ä»¥è¯´è¦åœ¨Ribbonä¸ŠåŠ¨æ‰‹è„šã€‚å› ä¸ºå®ƒæ˜¯è¯·æ±‚å‘èµ·çš„åœ°æ–¹ã€‚ æˆ‘ä»¬åˆšå¼€å§‹è¯·æ±‚ä¸€ä¸ªæœåŠ¡ï¼Œä¸ºäº†è´Ÿè½½å‡è¡¡è¿›è¡Œäº†æ‹¦æˆªä¸€æ¬¡ï¼Œç°åœ¨æˆ‘ä»¬è¦è¿›è¡Œç†”æ–­ï¼Œæ‰€ä»¥å¿…é¡»è·ŸRibboné›†æˆä¸€æ¬¡ï¼Œå†è¿›è¡Œè¯·æ±‚æ‹¦æˆªæ¥ç†”æ–­ã€‚</p><h3 id="_5-4-hystrixæµ‹è¯•è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_5-4-hystrixæµ‹è¯•è¯´æ˜" aria-hidden="true">#</a> 5.4 Hystrixæµ‹è¯•è¯´æ˜</h3><p><img src="https://abelsun-1256449468.cos.ap-beijing.myqcloud.com/image/image-20220701230352419.png" alt="image-20220701230352419"></p><h2 id="_6-æ–¹æ¡ˆ-sentinelç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_6-æ–¹æ¡ˆ-sentinelç®€ä»‹" aria-hidden="true">#</a> 6. æ–¹æ¡ˆï¼šSentinelç®€ä»‹</h2><h3 id="_6-1-sentinel-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_6-1-sentinel-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> 6.1 Sentinel æ˜¯ä»€ä¹ˆ</h3><p>éšç€å¾®æœåŠ¡çš„æµè¡Œï¼ŒæœåŠ¡å’ŒæœåŠ¡ä¹‹é—´çš„ç¨³å®šæ€§å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚Sentinel ä»¥æµé‡ä¸ºåˆ‡å…¥ç‚¹ï¼Œä»æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ç­‰å¤šä¸ªç»´åº¦ä¿æŠ¤æœåŠ¡çš„ç¨³å®šæ€§ã€‚</p><h3 id="_6-2-sentinelç‰¹å¾" tabindex="-1"><a class="header-anchor" href="#_6-2-sentinelç‰¹å¾" aria-hidden="true">#</a> 6.2 Sentinelç‰¹å¾</h3><ul><li>ä¸°å¯Œçš„åº”ç”¨åœºæ™¯ï¼šSentinel æ‰¿æ¥äº†é˜¿é‡Œå·´å·´è¿‘ 10 å¹´çš„åŒåä¸€å¤§ä¿ƒæµé‡çš„æ ¸å¿ƒåœºæ™¯ï¼Œä¾‹å¦‚ç§’æ€ï¼ˆå³çªå‘æµé‡æ§åˆ¶åœ¨ç³»ç»Ÿå®¹é‡å¯ä»¥æ‰¿å—çš„èŒƒå›´ï¼‰ã€æ¶ˆæ¯å‰Šå³°å¡«è°·ã€é›†ç¾¤æµé‡æ§åˆ¶ã€å®æ—¶ç†”æ–­ä¸‹æ¸¸ä¸å¯ç”¨åº”ç”¨ç­‰ã€‚</li><li>å®Œå¤‡çš„å®æ—¶ç›‘æ§ï¼šSentinel åŒæ—¶æä¾›å®æ—¶çš„ç›‘æ§åŠŸèƒ½ã€‚æ‚¨å¯ä»¥åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°æ¥å…¥åº”ç”¨çš„å•å°æœºå™¨ç§’çº§æ•°æ®ï¼Œç”šè‡³ 500 å°ä»¥ä¸‹è§„æ¨¡çš„é›†ç¾¤çš„æ±‡æ€»è¿è¡Œæƒ…å†µã€‚</li><li>å¹¿æ³›çš„å¼€æºç”Ÿæ€ï¼šSentinel æä¾›å¼€ç®±å³ç”¨çš„ä¸å…¶å®ƒå¼€æºæ¡†æ¶/åº“çš„æ•´åˆæ¨¡å—ï¼Œä¾‹å¦‚ä¸ Spring Cloudã€Dubboã€gRPC çš„æ•´åˆã€‚æ‚¨åªéœ€è¦å¼•å…¥ç›¸åº”çš„ä¾èµ–å¹¶è¿›è¡Œç®€å•çš„é…ç½®å³å¯å¿«é€Ÿåœ°æ¥å…¥ Sentinelã€‚</li><li>å®Œå–„çš„ SPI æ‰©å±•ç‚¹ï¼šSentinel æä¾›ç®€å•æ˜“ç”¨ã€å®Œå–„çš„ SPI æ‰©å±•æ¥å£ã€‚æ‚¨å¯ä»¥é€šè¿‡å®ç°æ‰©å±•æ¥å£æ¥å¿«é€Ÿåœ°å®šåˆ¶é€»è¾‘ã€‚ä¾‹å¦‚å®šåˆ¶è§„åˆ™ç®¡ç†ã€é€‚é…åŠ¨æ€æ•°æ®æºç­‰ã€‚</li></ul><p>Sentinel çš„ä¸»è¦ç‰¹æ€§ï¼š</p><p><img src="https://abelsun-1256449468.cos.ap-beijing.myqcloud.com/image/image-20220701230453174.png" alt="image-20220701230453174"></p><p>Sentinel çš„å¼€æºç”Ÿæ€ï¼š</p><p><img src="https://abelsun-1256449468.cos.ap-beijing.myqcloud.com/image/image-20220701230507704.png" alt="image-20220701230507704"></p><p>Sentinel åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†:</p><ul><li>æ ¸å¿ƒåº“ï¼ˆJava å®¢æˆ·ç«¯ï¼‰ä¸ä¾èµ–ä»»ä½•æ¡†æ¶/åº“ï¼Œèƒ½å¤Ÿè¿è¡Œäºæ‰€æœ‰ Java è¿è¡Œæ—¶ç¯å¢ƒï¼ŒåŒæ—¶å¯¹ Dubbo / Spring Cloud ç­‰æ¡†æ¶ä¹Ÿæœ‰è¾ƒå¥½çš„æ”¯æŒã€‚</li><li>æ§åˆ¶å°ï¼ˆDashboardï¼‰åŸºäº Spring Boot å¼€å‘ï¼Œæ‰“åŒ…åå¯ä»¥ç›´æ¥è¿è¡Œï¼Œä¸éœ€è¦é¢å¤–çš„ Tomcat ç­‰åº”ç”¨å®¹å™¨ã€‚</li></ul><h2 id="å‚è€ƒæ–‡ç« " tabindex="-1"><a class="header-anchor" href="#å‚è€ƒæ–‡ç« " aria-hidden="true">#</a> å‚è€ƒæ–‡ç« </h2><p><a href="https://pdai.tech/md/arch/arch-y-reduce.html" target="_blank" rel="noopener noreferrer"><strong>æ¶æ„ä¹‹é«˜å¹¶å‘ï¼šé™çº§å’Œç†”æ–­</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://www.toutiao.com/article/6835972895500403212/?&amp;source=m_redirect&amp;wid=1656766761850" target="_blank" rel="noopener noreferrer">ä»€ä¹ˆæ˜¯ç†”æ–­é™çº§ï¼Ÿ(è¿™ç¯‡å†™å¾—ç®€å•ç²¾å)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/token01/token01.github.io/edit/master/docs/db/redis/db-redis-x-cache.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/12/24 17:13:42</span></div><!----></footer><nav class="page-nav"><a href="/db/redis/db-redis-x-event.html" class="nav-link prev" aria-label="å•å…ƒæµ‹è¯• - IDEAä¸‹å•å…ƒæµ‹è¯•è¯¦è§£"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->å•å…ƒæµ‹è¯• - IDEAä¸‹å•å…ƒæµ‹è¯•è¯¦è§£</div></a><a href="/db/redis/db-redis-x-redis-object.html" class="nav-link next" aria-label="Redisè¿›é˜¶ - æ•°æ®ç±»å‹ï¼šå¯¹è±¡æœºåˆ¶è¯¦è§£"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">Redisè¿›é˜¶ - æ•°æ®ç±»å‹ï¼šå¯¹è±¡æœºåˆ¶è¯¦è§£<!----></div></a></nav><div class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="mail">é‚®ç®±</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="link">ç½‘å€</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><!-- eslint-disable-next-line vue/no-v-html --><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-text-number">0 <!--v-if--> Â å­—</div><button class="wl-btn">ç™»å½•</button><button class="wl-btn primary" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><div class="wl-gallery" style="gap:6px;"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><!-- Copyright Information --><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noreferrer"> Waline </a> v2.9.1</div></div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright Â© 2022 Abel sun</div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.2a33308c.js" defer></script>
  </body>
</html>
